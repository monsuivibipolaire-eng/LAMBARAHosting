import{a as st,b as ct}from"./chunk-NFICNRYB.js";import{a as ue}from"./chunk-SUTMSUWK.js";import{f as it,g as at,h as V,i as ot,j as rt,k as oe}from"./chunk-LK52KUYW.js";import{a as ve}from"./chunk-CRCOCWD6.js";import{a as j}from"./chunk-6U2WXJJT.js";import{a as $e,b as ae,c as Ue,d as Ke,f as Ye,g as qe,h as Qe,i as Xe,j as Ze,k as We,l as Je,m as et,n as tt,p as nt}from"./chunk-OOXC3MXN.js";import{a as ft,c as ut}from"./chunk-Z7HEBSRN.js";import"./chunk-5SMMQZVJ.js";import{a as F}from"./chunk-E7ROQ3IM.js";import{a as Mt,b as he}from"./chunk-IKMWHSPF.js";import{$ as I,$b as Ge,Ab as d,Ac as gt,Bb as ge,E as Ne,Ia as M,Na as w,Oa as me,R as le,Ra as _,S as de,Ub as je,V as E,Wb as He,Xb as N,Yb as y,Zb as fe,a as Be,aa as T,ab as g,ac as R,b as De,ba as v,bb as i,ca as h,cb as o,db as f,e as ht,eb as L,f as x,fb as P,gb as b,gc as X,hc as k,ic as z,lb as Re,mb as H,nb as c,ob as m,pb as C,qb as pe,rb as Ve,sc as lt,t as Le,u as ie,wc as dt,xb as ze,xc as we,ya as a,yb as Fe,yc as mt,zb as l,zc as pt}from"./chunk-S7C4YWPX.js";function _t(r,t){r&1&&(v(),i(0,"svg",10),f(1,"path",11),o())}function Ct(r,t){if(r&1){let e=L();i(0,"button",8),P("click",function(){let s=I(e).$implicit,p=b();return T(p.selectLanguage(s.code))}),i(1,"span",2),c(2),o(),i(3,"span",3),c(4),o(),_(5,_t,2,0,"svg",9),o()}if(r&2){let e=t.$implicit,n=b();H("active",n.isCurrentLanguage(e.code)),a(2),m(e.flag),a(2),m(e.name),a(),g("ngIf",n.isCurrentLanguage(e.code))}}var Z=class Z{constructor(t){this.languageService=t;this.languages=[{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flag:"\u{1F1F9}\u{1F1F3}"},{code:"fr",name:"Fran\xE7ais",flag:"\u{1F1EB}\u{1F1F7}"},{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"}];this.isOpen=!1}getCurrentLanguage(){let t=this.languageService.getCurrentLanguage();return this.languages.find(e=>e.code===t)||this.languages[0]}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(t){this.languageService.setLanguage(t),this.isOpen=!1}isCurrentLanguage(t){return t===this.languageService.getCurrentLanguage()}};Z.\u0275fac=function(e){return new(e||Z)(M(ct))},Z.\u0275cmp=w({type:Z,selectors:[["app-language-selector"]],standalone:!1,decls:10,vars:5,consts:[[1,"language-selector"],[1,"selector-button",3,"click"],[1,"flag"],[1,"language-name"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"chevron"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"dropdown-menu"],["class","language-option",3,"active","click",4,"ngFor","ngForOf"],[1,"language-option",3,"click"],["class","check-icon","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"check-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"button",1),P("click",function(){return n.toggleDropdown()}),i(2,"span",2),c(3),o(),i(4,"span",3),c(5),o(),v(),i(6,"svg",4),f(7,"path",5),o()(),h(),i(8,"div",6),_(9,Ct,6,5,"button",7),o()()),e&2&&(a(3),m(n.getCurrentLanguage().flag),a(2),m(n.getCurrentLanguage().name),a(3),H("show",n.isOpen),a(),g("ngForOf",n.languages))},dependencies:[N,y],styles:[".language-selector[_ngcontent-%COMP%]{position:relative;display:inline-block}.selector-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;cursor:pointer;transition:all .2s ease;font-size:.875rem;white-space:nowrap}.selector-button[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.flag[_ngcontent-%COMP%]{font-size:1.25rem}.language-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.chevron[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280;transition:transform .2s}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a;display:none;z-index:1000;min-width:150px}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.language-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;padding:.75rem 1rem;border:none;background:none;cursor:pointer;text-align:left;transition:background-color .2s}.language-option[_ngcontent-%COMP%]:hover{background:#f9fafb}.language-option.active[_ngcontent-%COMP%]{background:#eff6ff}.language-option.active[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.language-option[_ngcontent-%COMP%]:first-child{border-radius:.5rem .5rem 0 0}.language-option[_ngcontent-%COMP%]:last-child{border-radius:0 0 .5rem .5rem}.check-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#2563eb;margin-left:auto}@media (max-width: 768px){.language-name[_ngcontent-%COMP%]{display:none}.selector-button[_ngcontent-%COMP%]{padding:.5rem}.chevron[_ngcontent-%COMP%]{display:none}}.rtl[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{right:auto;left:0}"]});var Me=Z;var Ot=()=>({exact:!0}),xt=r=>["/dashboard/bateaux",r,"marins"];function Pt(r,t){if(r&1&&(i(0,"li")(1,"a",23),v(),i(2,"svg",5),f(3,"path",24),o(),h(),i(4,"span"),c(5),l(6,"translate"),o()()()),r&2){let e=b();a(),g("routerLink",Fe(4,xt,e.selectedBoat.id)),a(4),m(d(6,2,"MENU.SAILORS"))}}function St(r,t){r&1&&(i(0,"li")(1,"a",25),v(),i(2,"svg",5),f(3,"path",26),o(),h(),i(4,"span"),c(5),l(6,"translate"),o()()()),r&2&&(a(5),m(d(6,1,"MENU.SORTIES")))}function wt(r,t){r&1&&(i(0,"li")(1,"a",27),v(),i(2,"svg",5),f(3,"path",28),o(),h(),i(4,"span"),c(5),l(6,"translate"),o()()()),r&2&&(a(5),m(d(6,1,"MENU.VENTES")))}function yt(r,t){r&1&&(i(0,"li")(1,"a",29),v(),i(2,"svg",5),f(3,"path",30),o(),h(),i(4,"span"),c(5),l(6,"translate"),o()()()),r&2&&(a(5),m(d(6,1,"MENU.AVANCES")))}function At(r,t){r&1&&(i(0,"li")(1,"a",31),v(),i(2,"svg",5),f(3,"path",32),o(),h(),i(4,"span"),c(5),l(6,"translate"),o()()()),r&2&&(a(5),m(d(6,1,"MENU.SALAIRES")))}function kt(r,t){if(r&1){let e=L();i(0,"div",33),P("click",function(){I(e);let s=b();return T(s.goToBoatSelection())}),v(),i(1,"svg",34),f(2,"path",35),o(),h(),i(3,"div",36)(4,"span",37),c(5),l(6,"translate"),o(),i(7,"span",38),c(8),o(),i(9,"span",39),c(10),o()(),v(),i(11,"svg",40),f(12,"path",41),o()()}if(r&2){let e=b();a(5),m(d(6,3,"BOATS.SELECTED_BOAT")),a(3),m(e.selectedBoat.nom),a(2),C("(",e.selectedBoat.immatriculation,")")}}function Et(r,t){if(r&1){let e=L();i(0,"div",42),P("click",function(){I(e);let s=b();return T(s.goToBoatSelection())}),v(),i(1,"svg",43),f(2,"path",44),o(),h(),i(3,"div",45)(4,"span",46),c(5),l(6,"translate"),o(),i(7,"span",47),c(8),l(9,"translate"),o()()()}r&2&&(a(5),m(d(6,2,"BOATS.NO_BOAT_SELECTED")),a(3),m(d(9,4,"BOATS.CLICK_TO_SELECT")))}function It(r,t){if(r&1&&(i(0,"div",48),v(),i(1,"svg",49),f(2,"path",50),o(),h(),i(3,"span"),c(4),o()()),r&2){let e=b();a(4),m(e.userEmail)}}var W=class W{constructor(t,e,n){this.authService=t;this.selectedBoatService=e;this.router=n;this.selectedBoat=null}ngOnInit(){return x(this,null,function*(){this.authService.user$.subscribe(t=>{t&&(this.userEmail=t.email||void 0)}),this.selectedBoatService.selectedBoat$.subscribe(t=>{this.selectedBoat=t})})}goToBoatSelection(){this.router.navigate(["/dashboard/bateaux"])}logout(){return x(this,null,function*(){try{yield this.authService.logout()}catch(t){console.error("Erreur logout",t)}})}};W.\u0275fac=function(e){return new(e||W)(M(st),M(F),M(V))},W.\u0275cmp=w({type:W,selectors:[["app-dashboard"]],standalone:!1,decls:47,vars:22,consts:[[1,"dashboard-layout"],[1,"sidebar"],[1,"logo"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"nav-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/dashboard/bateaux","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[4,"ngIf"],["routerLink","/dashboard/mock-data","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],[1,"main-content"],[1,"header"],[1,"boat-selector"],["class","selected-boat-badge",3,"click",4,"ngIf"],["class","no-boat-badge",3,"click",4,"ngIf"],[1,"header-right"],["class","user-info",4,"ngIf"],[1,"btn-logout",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"content"],["routerLinkActive","active",1,"nav-item",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],["routerLink","/dashboard/sorties","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["routerLink","/dashboard/ventes","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["routerLink","/dashboard/avances","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/dashboard/salaires","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"selected-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"boat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"boat-info"],[1,"boat-label"],[1,"boat-name"],[1,"boat-registration"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"change-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],[1,"no-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"warning-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"no-boat-info"],[1,"no-boat-label"],[1,"no-boat-action"],[1,"user-info"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"user-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h2"),c(4,"LAMBARA"),o()(),i(5,"nav",3)(6,"ul")(7,"li")(8,"a",4),v(),i(9,"svg",5),f(10,"path",6),o(),h(),i(11,"span"),c(12),l(13,"translate"),o()()(),i(14,"li")(15,"a",7),v(),i(16,"svg",5),f(17,"path",8),o(),h(),i(18,"span"),c(19),l(20,"translate"),o()()(),_(21,Pt,7,6,"li",9)(22,St,7,3,"li",9)(23,wt,7,3,"li",9)(24,yt,7,3,"li",9)(25,At,7,3,"li",9),i(26,"li")(27,"a",10),v(),i(28,"svg",5),f(29,"path",11),o(),h(),i(30,"span"),c(31),l(32,"translate"),o()()()()()(),i(33,"main",12)(34,"header",13)(35,"div",14),_(36,kt,13,5,"div",15)(37,Et,10,6,"div",16),o(),i(38,"div",17),_(39,It,5,1,"div",18),f(40,"app-language-selector"),i(41,"button",19),l(42,"translate"),P("click",function(){return n.logout()}),v(),i(43,"svg",20),f(44,"path",21),o()()()(),h(),i(45,"div",22),f(46,"router-outlet"),o()()()),e&2&&(a(8),g("routerLinkActiveOptions",ze(21,Ot)),a(4),m(d(13,13,"MENU.HOME")),a(7),m(d(20,15,"MENU.BOATS")),a(2),g("ngIf",n.selectedBoat),a(),g("ngIf",n.selectedBoat),a(),g("ngIf",n.selectedBoat),a(),g("ngIf",n.selectedBoat),a(),g("ngIf",n.selectedBoat),a(6),C("\u{1F3B2} ",d(32,17,"MENU.MOCK_DATA")),a(5),g("ngIf",n.selectedBoat),a(),g("ngIf",!n.selectedBoat),a(2),g("ngIf",n.userEmail),a(2),g("title",d(42,19,"MENU.LOGOUT")))},dependencies:[y,at,ot,rt,Me,k],styles:['.dashboard-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f5f7fa}.sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(180deg,#1e3a8a,#1e40af);color:#fff;position:fixed;height:100vh;left:0;top:0;box-shadow:2px 0 8px #0000001a;z-index:1000;transition:all .3s ease;overflow-y:auto}.logo[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.25rem 0}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fffc;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background-color:#ffffff26;border-left-color:#60a5fa;color:#fff;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.sidebar-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.main-content[_ngcontent-%COMP%]{margin-left:260px;flex:1;display:flex;flex-direction:column;width:calc(100% - 260px);min-width:0;transition:margin .3s ease}.header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;box-shadow:0 1px 3px #0000001a;display:flex;justify-content:space-between;align-items:center;gap:1.5rem;position:sticky;top:0;z-index:900}.boat-selector[_ngcontent-%COMP%]{flex:1}.selected-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.75rem 1.25rem;border-radius:.75rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #10b98133}.selected-boat-badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #10b9814d}.selected-boat-badge[_ngcontent-%COMP%]   .boat-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.9;font-weight:500}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.selected-boat-badge[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;margin-left:auto;opacity:.8}.no-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:#fee2e2;color:#991b1b;padding:.75rem 1.25rem;border-radius:.75rem;border:2px solid #ef4444;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.02)}.no-boat-badge[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0;animation:_ngcontent-%COMP%_shake 1s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.85}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.content[_ngcontent-%COMP%]{padding:2rem;flex:1;width:100%;overflow-x:hidden}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#4b5563;font-weight:500;font-size:.875rem}.user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:#9ca3af}.btn-logout[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.5rem;border-radius:9999px;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-logout[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#fee2e2;color:#ef4444}@media (max-width: 1024px){.sidebar[_ngcontent-%COMP%]{width:220px}.main-content[_ngcontent-%COMP%]{margin-left:220px;width:calc(100% - 220px)}.content[_ngcontent-%COMP%]{padding:1.5rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.9rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.8rem}.user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:260px}.main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}.header[_ngcontent-%COMP%]{padding:.75rem 1rem;flex-wrap:wrap}.boat-selector[_ngcontent-%COMP%]{width:100%;order:2;margin-top:.75rem}.header-right[_ngcontent-%COMP%]{order:1;width:100%;justify-content:flex-end}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.content[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.content[_ngcontent-%COMP%]{padding:.75rem}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{padding:.625rem 1rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.875rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.75rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.8125rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.6875rem}}body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{left:auto;right:0;box-shadow:-2px 0 8px #0000001a}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-left:none;border-right:3px solid transparent}body.rtl[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{border-right-color:#60a5fa}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:0;margin-right:260px}@media (max-width: 1024px){body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:220px}}@media (max-width: 768px){body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{transform:translate(100%)}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:0}}.menu-disabled[_ngcontent-%COMP%]{position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fff6;cursor:not-allowed;position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:absolute;left:100%;top:50%;transform:translateY(-50%);background:#1f2937;color:#fff;padding:.5rem .75rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;margin-left:.5rem;opacity:0;visibility:hidden;transition:all .3s ease;box-shadow:0 4px 6px #0000004d;z-index:1001;pointer-events:none}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{content:"";position:absolute;right:100%;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:#1f2937}.menu-disabled[_ngcontent-%COMP%]:hover   .tooltip-disabled[_ngcontent-%COMP%]{opacity:1;visibility:visible}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{left:auto;right:100%;margin-left:0;margin-right:.5rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{right:auto;left:100%;border-right-color:transparent;border-left-color:#1f2937}@media (max-width: 768px){.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:fixed;inset:auto auto 20px 50%;transform:translate(-50%);margin-left:0}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{display:none}}']});var _e=W;function Bt(r,t){if(r&1&&(i(0,"div",9)(1,"div",10)(2,"div",11),v(),i(3,"svg",12),f(4,"path",13),o()(),h(),i(5,"div",14)(6,"div",15),c(7),o(),i(8,"div",16),c(9),l(10,"translate"),o()()(),i(11,"div",17)(12,"div",11),v(),i(13,"svg",12),f(14,"path",18),o()(),h(),i(15,"div",14)(16,"div",15),c(17),o(),i(18,"div",16),c(19),l(20,"translate"),o()()(),i(21,"div",19)(22,"div",11),v(),i(23,"svg",12),f(24,"path",20),o()(),h(),i(25,"div",14)(26,"div",15),c(27),o(),i(28,"div",16),c(29),l(30,"translate"),o()()(),i(31,"div",21)(32,"div",11),v(),i(33,"svg",12),f(34,"path",22),o()(),h(),i(35,"div",14)(36,"div",15),c(37),o(),i(38,"div",16),c(39),l(40,"translate"),o()()()()),r&2){let e=t.ngIf;a(7),m(e.totalBoats),a(2),m(d(10,8,"DASHBOARD.TOTAL_BOATS")),a(8),m(e.activeBoats),a(2),m(d(20,10,"DASHBOARD.ACTIVE_BOATS")),a(8),m(e.maintenanceBoats),a(2),m(d(30,12,"DASHBOARD.MAINTENANCE")),a(8),m(e.totalSailors),a(2),m(d(40,14,"DASHBOARD.TOTAL_SAILORS"))}}function Dt(r,t){if(r&1&&(i(0,"div",26)(1,"div",27),c(2),o(),i(3,"div",28)(4,"div",29)(5,"span",30),c(6),o()(),i(7,"div",31),c(8),l(9,"translate"),o()(),i(10,"div",32),c(11),o()()),r&2){let e=t.$implicit,n=b(2);a(),Re("background-color",e.color+"20")("color",e.color),a(),C(" ",e.icon," "),a(4),m(e.name),a(2),C(" ",d(9,8,n.getActionText(e))," "),a(3),C(" ",n.getTimeAgo(e.date)," ")}}function Lt(r,t){r&1&&(i(0,"div",33),v(),i(1,"svg",34),f(2,"path",35),o(),h(),i(3,"p"),c(4),l(5,"translate"),o()()),r&2&&(a(4),m(d(5,1,"DASHBOARD.NO_ACTIVITIES")))}function Nt(r,t){if(r&1&&(i(0,"div",23),_(1,Dt,12,10,"div",24)(2,Lt,6,3,"div",25),o()),r&2){let e=b();a(),g("ngForOf",e.recentActivities),a(),g("ngIf",e.recentActivities.length===0)}}function Rt(r,t){r&1&&(i(0,"div",36),f(1,"div",37),i(2,"p"),c(3),l(4,"translate"),o()()),r&2&&(a(3),m(d(4,1,"MESSAGES.LOADING")))}var J=class J{constructor(t,e){this.bateauService=t;this.marinService=e;this.recentActivities=[];this.loading=!0}ngOnInit(){this.loadStats(),this.loadRecentActivities()}loadStats(){this.stats$=ie([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).pipe(Le(([t,e])=>({totalBoats:t.length,activeBoats:t.filter(n=>n.statut==="actif").length,maintenanceBoats:t.filter(n=>n.statut==="maintenance").length,totalSailors:e.length,activeSailors:e.filter(n=>n.statut==="actif").length})))}toDate(t){return t?t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():t.seconds?new Date(t.seconds*1e3):new Date(t):new Date(0)}loadRecentActivities(){ie([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).subscribe(([t,e])=>{let n=[];t.sort((s,p)=>{let u=this.toDate(s.updatedAt||s.createdAt);return this.toDate(p.updatedAt||p.createdAt).getTime()-u.getTime()}).slice(0,5).forEach(s=>{let p=this.toDate(s.updatedAt||s.createdAt);n.push({type:"boat",action:s.updatedAt?"updated":"added",name:s.nom,date:p,icon:"\u{1F6A2}",color:"#3b82f6"})}),e.sort((s,p)=>{let u=this.toDate(s.updatedAt||s.createdAt);return this.toDate(p.updatedAt||p.createdAt).getTime()-u.getTime()}).slice(0,5).forEach(s=>{let p=this.toDate(s.updatedAt||s.createdAt);n.push({type:"sailor",action:s.updatedAt?"updated":"added",name:`${s.prenom} ${s.nom}`,date:p,icon:"\u{1F468}\u200D\u2708\uFE0F",color:"#059669"})}),this.recentActivities=n.sort((s,p)=>p.date.getTime()-s.date.getTime()).slice(0,10),this.loading=!1})}getActionText(t){return t.type==="boat"?t.action==="added"?"DASHBOARD.BOAT_ADDED":"DASHBOARD.BOAT_UPDATED":t.action==="added"?"DASHBOARD.SAILOR_ADDED":"DASHBOARD.SAILOR_UPDATED"}getTimeAgo(t){let n=new Date().getTime()-t.getTime(),s=Math.floor(n/6e4),p=Math.floor(n/36e5),u=Math.floor(n/864e5);return s<1?"\xC0 l'instant":s<60?`Il y a ${s} min`:p<24?`Il y a ${p}h`:`Il y a ${u}j`}};J.\u0275fac=function(e){return new(e||J)(M(ue),M(j))},J.\u0275cmp=w({type:J,selectors:[["app-dashboard-home"]],standalone:!1,decls:16,vars:15,consts:[[1,"dashboard-home"],[1,"welcome-title"],["class","stats-grid",4,"ngIf"],[1,"activities-section"],[1,"section-header"],[1,"section-title"],[1,"activity-count"],["class","activities-container",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","blue"],[1,"stat-icon"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","yellow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"stat-card","purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"activities-container"],["class","activity-item",4,"ngFor","ngForOf"],["class","no-activities",4,"ngIf"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-title"],[1,"activity-name"],[1,"activity-description"],[1,"activity-time"],[1,"no-activities"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-data-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"loading-spinner"],[1,"spinner"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"h2",1),c(2),l(3,"translate"),o(),_(4,Bt,41,16,"div",2),l(5,"async"),i(6,"div",3)(7,"div",4)(8,"h3",5),c(9),l(10,"translate"),o(),i(11,"span",6),c(12),l(13,"translate"),o()(),_(14,Nt,3,2,"div",7)(15,Rt,5,3,"div",8),o()()),e&2&&(a(2),m(d(3,7,"DASHBOARD.WELCOME")),a(2),g("ngIf",d(5,9,n.stats$)),a(5),m(d(10,11,"DASHBOARD.RECENT_ACTIVITIES")),a(3),pe("",n.recentActivities.length," ",d(13,13,"DASHBOARD.ACTIVITIES")),a(2),g("ngIf",!n.loading),a(),g("ngIf",n.loading))},dependencies:[N,y,fe,k],styles:['@charset "UTF-8";.dashboard-home[_ngcontent-%COMP%]{max-width:1400px;width:100%}.welcome-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:2rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;gap:1rem;transition:all .3s ease;border-left:4px solid}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #00000026;transform:translateY(-4px)}.stat-card.blue[_ngcontent-%COMP%]{border-color:#3b82f6}.stat-card.blue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#dbeafe;color:#3b82f6}.stat-card.green[_ngcontent-%COMP%]{border-color:#059669}.stat-card.green[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#d1fae5;color:#059669}.stat-card.yellow[_ngcontent-%COMP%]{border-color:#f59e0b}.stat-card.yellow[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#fef3c7;color:#f59e0b}.stat-card.purple[_ngcontent-%COMP%]{border-color:#9333ea}.stat-card.purple[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#e9d5ff;color:#9333ea}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;line-height:1;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.activities-section[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin:0}.activity-count[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;background-color:#f3f4f6;padding:.25rem .75rem;border-radius:9999px;font-weight:500}.activities-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f3f4f6;display:flex;align-items:center;gap:1rem;transition:background-color .2s}.activity-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.activity-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0}.activity-content[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.activity-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.9375rem}.activity-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;white-space:nowrap;flex-shrink:0}.no-activities[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#9ca3af}.no-data-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;opacity:.5}.loading-spinner[_ngcontent-%COMP%]{padding:3rem;text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 1rem;border:4px solid #f3f4f6;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.activity-item[_ngcontent-%COMP%]{padding:1rem}.activity-time[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-width: 480px){.welcome-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.stats-grid[_ngcontent-%COMP%]{margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8125rem}}']});var be=J;var G=class G{constructor(t,e){this.selectedBoatService=t;this.router=e}canActivate(t,e){return this.selectedBoatService.hasSelectedBoat()?!0:(this.router.navigate(["/dashboard/bateaux"]),!1)}};G.\u0275fac=function(e){return new(e||G)(E(F),E(V))},G.\u0275prov=le({token:G,factory:G.\u0275fac,providedIn:"root"});var $=G;var K=ht(Mt());var U=class U{constructor(t,e,n,s,p){this.firestore=t;this.bateauService=e;this.marinService=n;this.sortieService=s;this.depenseService=p;this.typesPoissons=[{nom:"Daurade royale",prixMin:28,prixMax:38},{nom:"Loup de mer",prixMin:32,prixMax:48},{nom:"Rouget barbet",prixMin:22,prixMax:32},{nom:"Sardine fra\xEEche",prixMin:6,prixMax:12},{nom:"Thon rouge",prixMin:55,prixMax:85},{nom:"M\xE9rou brun",prixMin:38,prixMax:55},{nom:"Saint-Pierre",prixMin:30,prixMax:45},{nom:"Sole commune",prixMin:35,prixMax:52},{nom:"Calamar",prixMin:20,prixMax:30},{nom:"Poulpe",prixMin:18,prixMax:28},{nom:"Crevettes roses",prixMin:45,prixMax:65},{nom:"Langoustines",prixMin:60,prixMax:80},{nom:"Pageot",prixMin:25,prixMax:35},{nom:"Sar commun",prixMin:20,prixMax:30},{nom:"Rascasse",prixMin:28,prixMax:40},{nom:"Mulet",prixMin:15,prixMax:25}];this.nomsClients=["Restaurant La Goulette - Tunis","Poissonnerie Ben Ahmed - Sfax","Restaurant Le Pirate - La Marsa","March\xE9 Central - Sfax","Restaurant Dar El Jeld - M\xE9dina","Grossiste Fruits de Mer - Monastir","Poissonnerie du Port - Sousse","Restaurant La M\xE9dina - Hammamet","Hotel Hasdrubal Thalassa & Spa","Carrefour Lac 2 - Tunis","Restaurant Le Corail - Mahdia","Poissonnerie Zitouna - Sfax","H\xF4tel Concorde Les Berges du Lac","Restaurant Chez Slah - Kerkennah","March\xE9 de Poissons - Mahdia","Monoprix Sousse Centre","Restaurant Fish Market - Gammarth","H\xF4tel M\xF6venpick Sousse","Grossiste Al Baraka - Gab\xE8s","Poissonnerie El Amel - Sfax"]}generateAllMockData(){return x(this,null,function*(){try{console.log("\u{1F9F9} Suppression des anciennes donn\xE9es..."),yield this.clearAllData(),console.log("\u{1F6A2} G\xE9n\xE9ration des bateaux...");let t=yield this.generateBateaux();console.log(`\u2705 ${t.length} bateaux cr\xE9\xE9s`);for(let e of t){console.log(`
\u{1F465} G\xE9n\xE9ration des marins pour le bateau ${e}...`),yield this.generateMarins(e),console.log(`\u26F5 G\xE9n\xE9ration des sorties pour le bateau ${e}...`);let n=yield this.generateSorties(e);console.log(`\u2705 ${n.length} sorties cr\xE9\xE9es`);for(let s=0;s<n.length;s++){let p=n[s];console.log(`
\u{1F4C4} Sortie ${s+1}/${n.length} (ID: ${p})`);let u=yield this.generateFacturesDetaillees(p);console.log(`  \u2705 ${u} factures cr\xE9\xE9es`),yield this.generateDepenses(p),console.log("  \u2705 6 d\xE9penses cr\xE9\xE9es")}}console.log(`
\u{1F389} \u2705 G\xE9n\xE9ration termin\xE9e!`)}catch(t){throw console.error("\u274C Erreur:",t),t}})}clearAllData(){return x(this,null,function*(){let t=["bateaux","marins","sorties","factures-vente","depenses","calculs-salaire"];for(let e of t){let n=yield gt(we(this.firestore,e)),s=n.docs.map(p=>mt(pt(this.firestore,e,p.id)));yield Promise.all(s),console.log(`  \u2713 ${e}: ${n.size} supprim\xE9s`)}})}generateBateaux(){return x(this,null,function*(){let t=[{nom:"El Amel",immatriculation:"SF-2024-001",typeMoteur:"Diesel Volvo Penta",puissance:350,longueur:18,capaciteEquipage:6,dateConstruction:new Date("2018-03-15"),portAttache:"Port de Sfax",statut:"actif",createdAt:new Date},{nom:"La Perle Bleue",immatriculation:"SF-2023-045",typeMoteur:"Diesel Caterpillar",puissance:420,longueur:22,capaciteEquipage:8,dateConstruction:new Date("2020-06-20"),portAttache:"Port de Sfax",statut:"actif",createdAt:new Date}],e=[];for(let n of t){let s=yield this.bateauService.addBateau(n);e.push(s)}return e})}generateMarins(t){return x(this,null,function*(){let e=["Ahmed","Mohamed","Ali","Karim","Mehdi","Youssef"],n=["Ben Salem","Trabelsi","Gharbi","Hammami","Jomaa","Ksouri"],s=["capitaine","second","mecanicien","matelot","matelot","matelot"],p=[];for(let u=0;u<6;u++){let O={coefficientSalaire:1,bateauId:t,nom:n[u],prenom:e[u],dateNaissance:new Date(1985+Math.floor(Math.random()*15),Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1),fonction:s[u],part:s[u]==="capitaine"?2:s[u]==="second"?1.5:s[u]==="mecanicien"?1.3:1,numeroPermis:`PM-${1e4+u}`,telephone:`+216 ${20+u} ${Math.floor(Math.random()*9e5+1e5)}`,email:`${e[u].toLowerCase()}.${n[u].toLowerCase().replace(" ","")}@email.com`,adresse:`${Math.floor(Math.random()*100)+1} Avenue Habib Bourguiba, Sfax`,dateEmbauche:new Date(2020+Math.floor(Math.random()*4),Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1),statut:"actif",createdAt:new Date},S=yield this.marinService.addMarin(O);p.push(S)}return p})}generateSorties(t){return x(this,null,function*(){let e=["Banc de Kerkennah (Zone Nord-Est)","Golfe de Gab\xE8s (Zone Sud)","\xCEles Kerkennah (Zone c\xF4ti\xE8re)"],n=[],s=new Date;for(let p=0;p<3;p++){let u=15+p*15,O=new Date(s);O.setDate(O.getDate()-u-3);let S=new Date(O);S.setDate(S.getDate()+(2+p));let A={bateauId:t,dateDepart:O,dateRetour:S,destination:e[p],statut:"terminee",salaireCalcule:!1,observations:`Sortie ${p+1} - Excellentes conditions m\xE9t\xE9o`,createdAt:new Date},D=yield this.sortieService.addSortie(A);n.push(D)}return n})}generateFacturesDetaillees(t){return x(this,null,function*(){let e=Math.floor(Math.random()*4)+5;console.log(`  \u{1F4DD} G\xE9n\xE9ration de ${e} factures...`);for(let n=0;n<e;n++){let s=Math.floor(Math.random()*4)+3,p=this.shuffleArray([...this.typesPoissons]).slice(0,s),u=0,O="";for(let Q of p){let Ee=Math.floor(Math.random()*120)+30,Ie=Math.floor((Math.random()*(Q.prixMax-Q.prixMin)+Q.prixMin)*100)/100,Te=Math.round(Ee*Ie*100)/100;O+=`${Q.nom}: ${Ee} kg \xD7 ${Ie} DT = ${Te} DT
`,u+=Te}u=Math.round(u*100)/100;let S=`FA-${new Date().getFullYear()}-${String(Math.floor(Math.random()*9e3)+1e3).padStart(4,"0")}`,A=this.nomsClients[Math.floor(Math.random()*this.nomsClients.length)],D={montant:u,sortieId:t,numeroFacture:S,client:A,dateVente:new Date,details:O.trim(),createdAt:new Date};try{yield dt(we(this.firestore,"factures-vente"),D),console.log(`    \u2713 ${S} - ${A} - ${u} DT`)}catch(Q){console.error(`    \u2717 Erreur facture ${n+1}:`,Q)}}return e})}generateDepenses(t){return x(this,null,function*(){let e=[{type:"fuel",montantMin:1200,montantMax:2500,description:"Carburant diesel"},{type:"ice",montantMin:200,montantMax:450,description:"Glace"},{type:"food",montantMin:350,montantMax:600,description:"Provisions"},{type:"crew_cnss",montantMin:500,montantMax:800,description:"CNSS \xE9quipage"},{type:"vms",montantMin:50,montantMax:100,description:"VMS"},{type:"oil_change",montantMin:300,montantMax:500,description:"Entretien moteur"}];for(let n of e){let s=Math.floor(Math.random()*(n.montantMax-n.montantMin)+n.montantMin),p={sortieId:t,type:n.type,montant:s,date:new Date,description:n.description,createdAt:new Date};yield this.depenseService.addDepense(p)}})}shuffleArray(t){let e=[...t];for(let n=e.length-1;n>0;n--){let s=Math.floor(Math.random()*(n+1));[e[n],e[s]]=[e[s],e[n]]}return e}};U.\u0275fac=function(e){return new(e||U)(E(lt),E(ue),E(j),E(ut),E(ft))},U.\u0275prov=le({token:U,factory:U.\u0275fac,providedIn:"root"});var Oe=U;function zt(r,t){r&1&&(i(0,"span"),c(1),l(2,"translate"),o()),r&2&&(a(),m(d(2,1,"MOCK_DATA.GENERATE_BUTTON")))}function Ft(r,t){r&1&&(i(0,"span"),c(1),l(2,"translate"),o()),r&2&&(a(),m(d(2,1,"MOCK_DATA.GENERATING_BUTTON")))}var ee=class ee{constructor(t,e){this.mockService=t;this.translate=e;this.generating=!1}generate(){return x(this,null,function*(){if((yield K.default.fire({title:this.translate.instant("MOCK_DATA.CONFIRM_TITLE"),text:this.translate.instant("MOCK_DATA.CONFIRM_TEXT"),icon:"question",showCancelButton:!0,confirmButtonText:this.translate.instant("MOCK_DATA.CONFIRM_BUTTON"),cancelButtonText:this.translate.instant("FORM.CANCEL"),confirmButtonColor:"#3b82f6"})).isConfirmed)try{this.generating=!0,K.default.fire({title:this.translate.instant("MOCK_DATA.LOADING_TITLE"),text:this.translate.instant("MOCK_DATA.LOADING_TEXT"),allowOutsideClick:!1,didOpen:()=>K.default.showLoading()}),yield this.mockService.generateAllMockData(),K.default.close(),yield K.default.fire({title:this.translate.instant("MOCK_DATA.SUCCESS_TITLE"),text:this.translate.instant("MOCK_DATA.SUCCESS_TEXT"),icon:"success",confirmButtonColor:"#10b981"})}catch(e){console.error(e),K.default.fire({title:this.translate.instant("MOCK_DATA.ERROR_TITLE"),text:e.message,icon:"error"})}finally{this.generating=!1}})}};ee.\u0275fac=function(e){return new(e||ee)(M(Oe),M(X))},ee.\u0275cmp=w({type:ee,selectors:[["app-mock-data"]],standalone:!1,decls:24,vars:21,consts:[[1,"mock-container"],[1,"mock-card"],[1,"data-list"],[1,"data-item"],[1,"btn-generate",3,"click","disabled"],[4,"ngIf"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),c(3),l(4,"translate"),o(),i(5,"p"),c(6),l(7,"translate"),o(),i(8,"div",2)(9,"div",3),c(10),l(11,"translate"),o(),i(12,"div",3),c(13),l(14,"translate"),o(),i(15,"div",3),c(16),l(17,"translate"),o(),i(18,"div",3),c(19),l(20,"translate"),o()(),i(21,"button",4),P("click",function(){return n.generate()}),_(22,zt,3,3,"span",5)(23,Ft,3,3,"span",5),o()()()),e&2&&(a(3),m(d(4,9,"MOCK_DATA.TITLE")),a(3),m(d(7,11,"MOCK_DATA.SUBTITLE")),a(4),m(d(11,13,"MOCK_DATA.ITEM_1")),a(3),m(d(14,15,"MOCK_DATA.ITEM_2")),a(3),m(d(17,17,"MOCK_DATA.ITEM_3")),a(3),m(d(20,19,"MOCK_DATA.ITEM_4")),a(2),g("disabled",n.generating),a(),g("ngIf",!n.generating),a(),g("ngIf",n.generating))},dependencies:[y,k],styles:[".mock-container[_ngcontent-%COMP%]{min-height:80vh;display:flex;align-items:center;justify-content:center;padding:2rem}.mock-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:3rem;max-width:500px;box-shadow:0 10px 30px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1f2937;font-size:2rem}p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 2rem}.data-list[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:.5rem;margin-bottom:2rem;text-align:left}.data-item[_ngcontent-%COMP%]{padding:.5rem 0;color:#374151;font-weight:500}.btn-generate[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-size:1.125rem;font-weight:600;cursor:pointer;transition:all .3s}.btn-generate[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.btn-generate[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]});var xe=ee;function Gt(r,t){if(r&1&&(i(0,"option",25),c(1),l(2,"translate"),o()),r&2){let e=t.$implicit;g("value",e.id),a(),Ve(" ",e.prenom," ",e.nom," - ",d(2,4,"SAILORS.FUNCTION_TYPE."+e.fonction.toUpperCase())," ")}}function $t(r,t){r&1&&(i(0,"span",26),c(1),l(2,"translate"),o()),r&2&&(a(),C(" ",d(2,1,"FORM.REQUIRED")," "))}function Ut(r,t){r&1&&(i(0,"span",26),c(1),l(2,"translate"),o()),r&2&&(a(),C(" ",d(2,1,"FORM.REQUIRED")," "))}function Kt(r,t){r&1&&(i(0,"span",26),c(1),l(2,"translate"),o()),r&2&&(a(),C(" ",d(2,1,"AVANCES.AMOUNT_POSITIVE")," "))}function Yt(r,t){r&1&&(i(0,"span",26),c(1),l(2,"translate"),o()),r&2&&(a(),C(" ",d(2,1,"FORM.REQUIRED")," "))}var te=class te{constructor(t,e,n,s,p,u,O,S,A){this.fb=t;this.route=e;this.router=n;this.avanceService=s;this.alertService=p;this.marinService=u;this.selectedBoatService=O;this.location=S;this.translate=A;this.isEditMode=!1;this.selectedBoat=null;this.loading=!1;this.pageTitle=""}ngOnInit(){if(this.selectedBoat=this.selectedBoatService.getSelectedBoat(),!this.selectedBoat){this.alertService.error(this.translate.instant("BOATS.NO_BOAT_SELECTED_DETAILS")),this.router.navigate(["/dashboard/bateaux"]);return}this.avanceId=this.route.snapshot.paramMap.get("id")??void 0,this.isEditMode=!!this.avanceId,this.pageTitle=this.isEditMode?"AVANCES.EDIT":"AVANCES.ADD",this.initForm(),this.loadMarins(),this.isEditMode&&this.avanceId&&this.loadAvanceData()}initForm(){this.form=this.fb.group({marinId:["",ae.required],montant:[null,[ae.required,ae.min(.01)]],dateAvance:[this.getTodayDate(),ae.required],description:[""]})}loadMarins(){this.selectedBoat?.id&&(this.marins$=this.marinService.getMarinsByBateau(this.selectedBoat.id))}loadAvanceData(){this.loading=!0,this.avanceService.getAvance(this.avanceId).pipe(Ne(1)).subscribe(t=>{t?this.form.patchValue(De(Be({},t),{dateAvance:this.formatDate(t.dateAvance)})):(this.alertService.error(this.translate.instant("MESSAGES.ERROR_GENERIC")),this.goBack()),this.loading=!1},t=>{console.error("Error loading avance:",t),this.alertService.error(),this.loading=!1,this.goBack()})}getTodayDate(){return new Date().toISOString().split("T")[0]}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toISOString().split("T")[0]:this.getTodayDate()}onSubmit(){return x(this,null,function*(){if(this.form.invalid){this.markFormGroupTouched(this.form),this.alertService.warning(this.translate.instant("FORM.REQUIRED_FIELDS"));return}if(!this.selectedBoat){this.alertService.error("Erreur: Bateau non s\xE9lectionn\xE9.");return}this.loading=!0,this.alertService.loading(this.translate.instant("MESSAGES.SAVING"));let t=this.form.value,e={bateauId:this.selectedBoat.id,marinId:t.marinId,montant:t.montant,dateAvance:new Date(t.dateAvance),description:t.description?.trim()||void 0,calculSalaireId:void 0};try{this.isEditMode&&this.avanceId?(yield this.avanceService.updateAvance(this.avanceId,e),this.alertService.success(this.translate.instant("AVANCES.SUCCESS_UPDATE"))):(yield this.avanceService.addAvance(e),this.alertService.success(this.translate.instant("AVANCES.SUCCESS_ADD"))),this.goBack()}catch(n){console.error("Erreur sauvegarde avance:",n),this.alertService.error()}finally{this.loading=!1,this.alertService.close()}})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}goBack(){this.location.back()}};te.\u0275fac=function(e){return new(e||te)(M(tt),M(it),M(V),M(ve),M(he),M(j),M(F),M(je),M(X))},te.\u0275cmp=w({type:te,selectors:[["app-avance-form"]],decls:53,vars:51,consts:[[1,"form-container"],[1,"form-header"],[1,"btn-back",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"form-title"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],["for","marinId",1,"form-label"],["id","marinId","formControlName","marinId",1,"form-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","montant",1,"form-label"],["id","montant","type","number","formControlName","montant","placeholder","0.00","step","0.01","min","0","autocomplete","off",1,"form-input"],[1,"input-helper"],["for","dateAvance",1,"form-label"],["id","dateAvance","type","date","formControlName","dateAvance",1,"form-input"],[1,"form-group","full-width"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3",1,"form-input",3,"placeholder"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"],[1,"error-message"]],template:function(e,n){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),P("click",function(){return n.goBack()}),v(),i(3,"svg",3),f(4,"path",4),o(),c(5),l(6,"translate"),o(),h(),i(7,"h1",5),c(8),l(9,"translate"),o()(),i(10,"form",6),P("ngSubmit",function(){return n.onSubmit()}),i(11,"div",7)(12,"div",8)(13,"label",9),c(14),l(15,"translate"),o(),i(16,"select",10)(17,"option",11),c(18),l(19,"translate"),o(),_(20,Gt,3,6,"option",12),l(21,"async"),o(),_(22,$t,3,3,"span",13),o(),i(23,"div",8)(24,"label",14),c(25),l(26,"translate"),o(),f(27,"input",15),_(28,Ut,3,3,"span",13)(29,Kt,3,3,"span",13),i(30,"div",16),c(31),l(32,"translate"),o()(),i(33,"div",8)(34,"label",17),c(35),l(36,"translate"),o(),f(37,"input",18),_(38,Yt,3,3,"span",13),o(),i(39,"div",19)(40,"label",20),c(41),l(42,"translate"),o(),f(43,"textarea",21),l(44,"translate"),o()(),i(45,"div",22)(46,"button",23),P("click",function(){return n.goBack()}),c(47),l(48,"translate"),o(),i(49,"button",24),c(50),l(51,"translate"),l(52,"translate"),o()()()()),e&2){let s,p,u,O,S,A,D;a(5),C(" ",d(6,25,"SAILORS.BACK")," "),a(3),m(d(9,27,n.pageTitle)),a(2),g("formGroup",n.form),a(4),C("",d(15,29,"SAILORS.TITLE")," *"),a(2),H("error",((s=n.form.get("marinId"))==null?null:s.invalid)&&((s=n.form.get("marinId"))==null?null:s.touched)),a(2),m(d(19,31,"SAILORS.SELECT_SAILOR")),a(2),g("ngForOf",d(21,33,n.marins$)),a(2),g("ngIf",((p=n.form.get("marinId"))==null?null:p.hasError("required"))&&((p=n.form.get("marinId"))==null?null:p.touched)),a(3),C("",d(26,35,"COMMON.AMOUNT_D_T")," *"),a(2),H("error",((u=n.form.get("montant"))==null?null:u.invalid)&&((u=n.form.get("montant"))==null?null:u.touched)),a(),g("ngIf",((O=n.form.get("montant"))==null?null:O.hasError("required"))&&((O=n.form.get("montant"))==null?null:O.touched)),a(),g("ngIf",((S=n.form.get("montant"))==null?null:S.hasError("min"))&&((S=n.form.get("montant"))==null?null:S.touched)),a(2),m(d(32,37,"COMMON.AMOUNT_IN_TND")),a(4),C("",d(36,39,"COMMON.DATE")," *"),a(2),H("error",((A=n.form.get("dateAvance"))==null?null:A.invalid)&&((A=n.form.get("dateAvance"))==null?null:A.touched)),a(),g("ngIf",((D=n.form.get("dateAvance"))==null?null:D.hasError("required"))&&((D=n.form.get("dateAvance"))==null?null:D.touched)),a(3),m(d(42,41,"COMMON.DESCRIPTION")),a(2),g("placeholder",d(44,43,"COMMON.DESCRIPTION_OPTIONAL")),a(3),g("disabled",n.loading),a(),C(" ",d(48,45,"FORM.CANCEL")," "),a(2),g("disabled",n.form.invalid||n.loading),a(),C(" ",n.loading?d(51,47,"MESSAGES.SAVING"):d(52,49,n.isEditMode?"FORM.EDIT":"FORM.ADD")," ")}},dependencies:[R,N,y,nt,Ye,We,Je,$e,qe,Ze,Ue,Ke,et,Qe,Xe,z,fe,k],styles:[`.form-container[_ngcontent-%COMP%]{max-width:900px;width:100%;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:2rem;margin:0 auto}.form-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem}.form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{flex-grow:1;font-size:1.75rem;font-weight:700;color:#1f2937;margin:0;text-align:center}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;margin-bottom:.5rem;font-size:.875rem}.form-input[_ngcontent-%COMP%], select.form-input[_ngcontent-%COMP%], textarea.form-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem;transition:all .2s;width:100%;background-color:#f9fafb;color:#1f2937}.form-input[_ngcontent-%COMP%]:focus, select.form-input[_ngcontent-%COMP%]:focus, textarea.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background-color:#fff;box-shadow:0 0 0 3px #3b82f61a}.form-input.error[_ngcontent-%COMP%], select.form-input.error[_ngcontent-%COMP%], textarea.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444}.form-input.error[_ngcontent-%COMP%]:focus, select.form-input.error[_ngcontent-%COMP%]:focus, textarea.form-input.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a;border-color:#ef4444}.form-input[_ngcontent-%COMP%]::placeholder, select.form-input[_ngcontent-%COMP%]::placeholder, textarea.form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af;opacity:1}select.form-input[_ngcontent-%COMP%]{background-image:url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>');background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em 1.25em;padding-right:2.5rem;appearance:none}.rtl[_nghost-%COMP%]   select.form-input[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   select.form-input[_ngcontent-%COMP%]{background-position:left .75rem center;padding-right:1rem;padding-left:2.5rem}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:90px}.input-helper[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.8rem;color:#6b7280}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:1px solid #e5e7eb;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s;white-space:nowrap}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#059669;transform:translateY(-2px);box-shadow:0 4px 6px #10b9814d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4b5563}@media (max-width: 768px){.form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:0}.form-container[_ngcontent-%COMP%]{padding:1.5rem}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.rtl[_nghost-%COMP%]   .form-actions[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .form-actions[_ngcontent-%COMP%]{justify-content:flex-start}.rtl[_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scaleX(-1)}`]});var ce=te;function qt(r,t){if(r&1){let e=L();i(0,"button",8),P("click",function(){I(e);let s=b();return T(s.navigateToAddAvance())}),v(),i(1,"svg",9),f(2,"path",10),o(),c(3),l(4,"translate"),o()}r&2&&(a(3),C(" ",d(4,1,"AVANCES.ADD")," "))}function Qt(r,t){r&1&&(i(0,"div",11),f(1,"div",12),i(2,"p"),c(3),l(4,"translate"),o()()),r&2&&(a(3),m(d(4,1,"MESSAGES.LOADING")))}function Xt(r,t){r&1&&(i(0,"div",13),v(),i(1,"svg",14),f(2,"path",15),o(),h(),i(3,"p"),c(4),l(5,"translate"),o()()),r&2&&(a(4),m(d(5,1,"BOATS.NO_BOAT_SELECTED")))}function Zt(r,t){r&1&&(i(0,"div",13),v(),i(1,"svg",14),f(2,"path",16),o(),h(),i(3,"p"),c(4),l(5,"translate"),o()()),r&2&&(a(4),m(d(5,1,"POINTAGE.NOCREW")))}function Wt(r,t){if(r&1&&(i(0,"div",46),v(),i(1,"svg",47),f(2,"path",48),o(),h(),i(3,"span"),c(4),o()()),r&2){let e=b().$implicit;a(4),m(e.description)}}function Jt(r,t){if(r&1){let e=L();i(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34),v(),i(4,"svg",35),f(5,"path",36),o(),h(),i(6,"span",37),c(7),o()(),_(8,Wt,5,1,"div",38),o(),i(9,"div",39)(10,"span",40),c(11),l(12,"number"),o(),i(13,"button",41),l(14,"translate"),P("click",function(){let s=I(e).$implicit,p=b(4);return T(p.navigateToEditAvance(s.id))}),v(),i(15,"svg",42),f(16,"path",43),o()(),h(),i(17,"button",44),l(18,"translate"),P("click",function(){let s=I(e).$implicit,p=b(4);return T(p.deleteAvance(s))}),v(),i(19,"svg",42),f(20,"path",45),o()()()()()}if(r&2){let e=t.$implicit,n=b(4);a(7),m(n.formatDisplayDate(e.dateAvance)),a(),g("ngIf",e.description),a(3),C("",ge(12,5,e.montant,"1.2-2")," DT"),a(2),g("title",d(14,8,"BOATS.EDIT")),a(4),g("title",d(18,10,"BOATS.DELETE"))}}function en(r,t){if(r&1&&(i(0,"div",29),_(1,Jt,21,12,"div",30),o()),r&2){let e=b().$implicit,n=b(2);a(),g("ngForOf",n.getAvancesByMarin(e.id))}}function tn(r,t){r&1&&(i(0,"div",49),v(),i(1,"svg",50),f(2,"path",51),o(),h(),i(3,"p"),c(4),l(5,"translate"),o()()),r&2&&(a(4),m(d(5,1,"AVANCES.NO_AVANCES")))}function nn(r,t){if(r&1&&(i(0,"div",19)(1,"div",20)(2,"div",21)(3,"h3",22),c(4),o(),i(5,"span",23),c(6),l(7,"translate"),o()(),i(8,"div",24)(9,"span",25),c(10),l(11,"translate"),o(),i(12,"span",26),c(13),l(14,"number"),o()()(),_(15,en,2,1,"div",27)(16,tn,6,3,"div",28),o()),r&2){let e=t.$implicit,n=b(2);a(4),pe("",e.prenom," ",e.nom),a(),g("ngClass","fonction-"+e.fonction),a(),C(" ",d(7,8,"SAILORS.FUNCTION_TYPE."+e.fonction.toUpperCase())," "),a(4),m(d(11,10,"AVANCES.TOTAL")),a(3),C("",ge(14,12,n.getTotalByMarin(e.id),"1.2-2")," DT"),a(2),g("ngIf",n.getAvancesByMarin(e.id).length>0),a(),g("ngIf",n.getAvancesByMarin(e.id).length===0)}}function an(r,t){if(r&1&&(i(0,"div",17),_(1,nn,17,15,"div",18),o()),r&2){let e=b();a(),g("ngForOf",e.marins)}}function on(r,t){if(r&1&&(i(0,"div",52)(1,"span",53),c(2),l(3,"translate"),o(),i(4,"span",54),c(5),l(6,"number"),o()()),r&2){let e=b();a(2),m(d(3,2,"AVANCES.TOTAL_GENERAL")),a(3),C("",ge(6,4,e.getTotalAvances(),"1.2-2")," DT")}}var ne=class ne{constructor(t,e,n,s,p,u){this.avanceService=t;this.marinService=e;this.selectedBoatService=n;this.alertService=s;this.translate=p;this.router=u;this.selectedBoat=null;this.marins=[];this.avances=[];this.loading=!0}ngOnInit(){if(this.selectedBoat=this.selectedBoatService.getSelectedBoat(),!this.selectedBoat){this.alertService.error(this.translate.instant("BOATS.NO_BOAT_SELECTED_DETAILS")),this.loading=!1;return}this.loadData()}loadData(){this.selectedBoat&&(this.loading=!0,ie([this.marinService.getMarinsByBateau(this.selectedBoat.id),this.avanceService.getUnsettledAvancesByBateau(this.selectedBoat.id)]).subscribe(([t,e])=>{this.marins=t,this.marins.sort((n,s)=>n.nom.localeCompare(s.nom)),this.avances=e.sort((n,s)=>{let p=n.dateAvance instanceof Date?n.dateAvance:n.dateAvance?.toDate();return((s.dateAvance instanceof Date?s.dateAvance:s.dateAvance?.toDate())?.getTime()||0)-(p?.getTime()||0)}),this.loading=!1}))}getMarinName(t){let e=this.marins.find(n=>n.id===t);return e?`${e.prenom} ${e.nom}`:this.translate.instant("COMMON.UNKNOWN")}getTotalAvances(){return this.avances.reduce((t,e)=>t+e.montant,0)}getAvancesByMarin(t){return this.avances.filter(e=>e.marinId===t)}getTotalByMarin(t){return this.getAvancesByMarin(t).reduce((e,n)=>e+n.montant,0)}getTodayDate(){let t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`}formatDate(t){return t?.toDate?t.toDate().toISOString().split("T")[0]:t instanceof Date?t.toISOString().split("T")[0]:""}formatDisplayDate(t){let e;if(t?.toDate)e=t.toDate();else if(t instanceof Date)e=t;else if(typeof t=="string")e=new Date(t);else return"";if(isNaN(e.getTime()))return"";let n=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),p=e.getFullYear();return`${n}/${s}/${p}`}navigateToAddAvance(){this.router.navigate(["/dashboard/avances/add"])}navigateToEditAvance(t){t&&this.router.navigate(["/dashboard/avances/edit",t])}deleteAvance(t){return x(this,null,function*(){if(!t||!t.id)return;let e=this.getMarinName(t.marinId),n=this.translate.instant("AVANCES.DELETE_CONFIRM_ITEM",{amount:t.montant,name:e});if(yield this.alertService.confirmDelete(n))try{this.alertService.loading(this.translate.instant("MESSAGES.DELETING")),yield this.avanceService.deleteAvance(t.id),this.alertService.toast(this.translate.instant("AVANCES.SUCCESS_DELETE"))}catch(p){console.error("Erreur lors de la suppression:",p),this.alertService.error()}finally{this.alertService.close()}})}};ne.\u0275fac=function(e){return new(e||ne)(M(ve),M(j),M(F),M(he),M(X),M(V))},ne.\u0275cmp=w({type:ne,selectors:[["app-avances"]],decls:11,vars:9,consts:[[1,"avances-container"],[1,"header"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","loading-spinner",4,"ngIf"],["class","no-data",4,"ngIf"],["class","marins-list",4,"ngIf"],["class","total-card",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"loading-spinner"],[1,"spinner"],[1,"no-data"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-data-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"marins-list"],["class","marin-card",4,"ngFor","ngForOf"],[1,"marin-card"],[1,"marin-header"],[1,"marin-info"],[1,"marin-name"],[1,"fonction-badge",3,"ngClass"],[1,"marin-total"],[1,"total-label"],[1,"total-amount"],["class","avances-list",4,"ngIf"],["class","no-avances",4,"ngIf"],[1,"avances-list"],["class","avance-item",4,"ngFor","ngForOf"],[1,"avance-item"],[1,"avance-main"],[1,"avance-details"],[1,"avance-date-row"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"date-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"avance-date"],["class","avance-description",4,"ngIf"],[1,"avance-actions"],[1,"avance-amount"],[1,"btn-icon","btn-warning",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-icon","btn-danger",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"avance-description"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"desc-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"],[1,"no-avances"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-avances-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"total-card"],[1,"total-label-main"],[1,"total-amount-main"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),c(3),l(4,"translate"),o(),_(5,qt,5,3,"button",3),o(),_(6,Qt,5,3,"div",4)(7,Xt,6,3,"div",5)(8,Zt,6,3,"div",5)(9,an,2,1,"div",6)(10,on,7,7,"div",7),o()),e&2&&(a(3),m(d(4,7,"AVANCES.TITLE")),a(2),g("ngIf",!n.loading&&n.marins.length>0),a(),g("ngIf",n.loading),a(),g("ngIf",!n.loading&&!n.selectedBoat),a(),g("ngIf",!n.loading&&n.selectedBoat&&n.marins.length===0),a(),g("ngIf",!n.loading&&n.selectedBoat&&n.marins.length>0),a(),g("ngIf",!n.loading&&n.avances.length>0))},dependencies:[R,He,N,y,z,oe,Ge,k],styles:[`[_nghost-%COMP%]  .swal-custom-styles{width:600px!important;font-family:inherit!important;border-radius:.75rem!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-title{font-size:1.75rem!important;font-weight:700!important;color:#1f2937!important;margin-bottom:1.5rem!important;padding-top:1rem;text-align:center}[_nghost-%COMP%]  .swal-custom-styles .swal2-html-container{margin:0!important;padding:0 1.5rem!important;overflow:visible!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-form{padding:0;text-align:left}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-form[dir=rtl]{text-align:right}[_nghost-%COMP%]  .swal-custom-styles .swal-form-group{margin-bottom:1.25rem}[_nghost-%COMP%]  .swal-custom-styles .swal-form-group:last-child{margin-bottom:0}[_nghost-%COMP%]  .swal-custom-styles .swal-form-label{display:block;margin-bottom:.5rem;font-weight:600;color:#374151;font-size:.9rem}[_nghost-%COMP%]  .swal-custom-styles .required-star{color:#ef4444;font-weight:700;font-size:1rem;line-height:1;display:inline-block;margin-left:.25rem}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-form[dir=rtl] .required-star{margin-left:0;margin-right:.25rem}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-input, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-select{display:block;width:100%;padding:.75rem 1rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.95rem;transition:border-color .2s,box-shadow .2s;font-family:inherit;background-color:#f9fafb;color:#1f2937;box-sizing:border-box}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-input::placeholder, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea::placeholder, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-select::placeholder{color:#9ca3af;opacity:1}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-input:focus, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea:focus, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-select:focus{outline:none;border-color:#10b981;background-color:#fff;box-shadow:0 0 0 3px #10b98133}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-input.swal-custom-select, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea.swal-custom-select, [_nghost-%COMP%]  .swal-custom-styles .swal-custom-select.swal-custom-select{background-image:url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>');background-position:right .75rem center;background-repeat:no-repeat;background-size:1.25em 1.25em;padding-right:2.5rem;appearance:none}.swal-custom-form[dir=rtl]   [_nghost-%COMP%]  .swal-custom-styles .swal-custom-input.swal-custom-select, .swal-custom-form[dir=rtl]   [_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea.swal-custom-select, .swal-custom-form[dir=rtl]   [_nghost-%COMP%]  .swal-custom-styles .swal-custom-select.swal-custom-select{background-position:left .75rem center;padding-right:1rem;padding-left:2.5rem}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-textarea{resize:vertical;min-height:90px}[_nghost-%COMP%]  .swal-custom-styles .swal-input-helper{margin-top:.5rem;font-size:.8rem;color:#6b7280}[_nghost-%COMP%]  .swal-custom-styles .swal2-validation-message{background-color:#fee2e2!important;color:#b91c1c!important;font-weight:500;border-left:4px solid #ef4444!important;border-right:none!important;margin:.75em 0 0!important;padding:.75em 1em!important;font-size:.9em!important;text-align:left!important;border-radius:.375rem!important;display:block!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-form[dir=rtl]+.swal2-validation-message{border-left:none!important;border-right:4px solid #ef4444!important;text-align:right!important}[_nghost-%COMP%]  .swal-custom-styles .swal2-actions{margin-top:1.5rem!important;gap:.75rem}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-button{padding:.75rem 1.5rem!important;font-weight:600!important;border-radius:.5rem!important;font-size:.95rem!important;border:none!important;cursor:pointer;transition:background-color .2s,transform .1s}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-button:focus{outline:none!important;box-shadow:0 0 0 3px rgba(var(--focus-ring-color, 16, 185, 129),.4)!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-button:hover{transform:translateY(-1px)}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-button:active{transform:translateY(0)}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-confirm-button{background-color:#10b981!important;color:#fff!important;--focus-ring-color: 16, 185, 129}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-confirm-button:hover{background-color:#059669!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-cancel-button{background-color:#6b7280!important;color:#fff!important;--focus-ring-color: 107, 114, 128}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-cancel-button:hover{background-color:#4b5563!important}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-styles .swal2-confirm.swal-custom-confirm-button[style*="rgb(245, 158, 11)"]{background-color:#f59e0b!important;--focus-ring-color: 245, 158, 11}[_nghost-%COMP%]  .swal-custom-styles .swal-custom-styles .swal2-confirm.swal-custom-confirm-button[style*="rgb(245, 158, 11)"]:hover{background-color:#d97706!important}.avances-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:1rem;flex-wrap:wrap}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-2px);box-shadow:0 4px 6px #3b82f64d}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem}.loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:1rem;border:4px solid #f3f4f6;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#9ca3af}.no-data[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;opacity:.5}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.marins-list[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.marin-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.marin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:linear-gradient(135deg,#f9fafb,#f3f4f6);border-bottom:2px solid #e5e7eb}.marin-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.marin-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin:0}.fonction-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:.375rem;font-size:.875rem;font-weight:600;text-transform:capitalize}.fonction-capitaine[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.fonction-second[_ngcontent-%COMP%]{background-color:#e0e7ff;color:#3730a3}.fonction-mecanicien[_ngcontent-%COMP%]{background-color:#ccfbf1;color:#115e59}.fonction-matelot[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#6b21a8}.marin-total[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.marin-total[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.marin-total[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#059669}.avances-list[_ngcontent-%COMP%]{padding:0}.avance-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f3f4f6;transition:background-color .2s}.avance-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.avance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.avance-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.avance-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.avance-details[_ngcontent-%COMP%]   .avance-date-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#1f2937;font-size:.95rem}.avance-details[_ngcontent-%COMP%]   .avance-date-row[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:#3b82f6;flex-shrink:0}.avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;font-size:.875rem;color:#6b7280;line-height:1.5;padding-left:1.625rem}.avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]   .desc-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#9ca3af;flex-shrink:0;margin-top:.125rem}.avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.avance-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.avance-actions[_ngcontent-%COMP%]   .avance-amount[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#059669;margin-right:.5rem;white-space:nowrap}.btn-icon[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:.375rem;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.btn-warning[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#fde68a}.btn-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fecaca}.no-avances[_ngcontent-%COMP%]{padding:2rem;text-align:center;color:#9ca3af}.no-avances[_ngcontent-%COMP%]   .no-avances-icon[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto .5rem;opacity:.5}.no-avances[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.total-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:1.5rem 2rem;border-radius:.75rem;display:flex;justify-content:space-between;align-items:center;margin-top:2rem;box-shadow:0 4px 6px #10b9814d}.total-card[_ngcontent-%COMP%]   .total-label-main[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.total-card[_ngcontent-%COMP%]   .total-amount-main[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}@media (max-width: 768px){.avances-container[_ngcontent-%COMP%]{padding:1rem}.title[_ngcontent-%COMP%]{font-size:1.5rem}.marin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.avance-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.avance-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.total-card[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}[_nghost-%COMP%]  .swal-custom-styles{width:90%!important}}.rtl[_nghost-%COMP%]   .marin-total[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .marin-total[_ngcontent-%COMP%]{align-items:flex-start}.rtl[_nghost-%COMP%]   .avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]{padding-left:0;padding-right:1.625rem}.rtl[_nghost-%COMP%]   .avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]   .desc-icon[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .avance-details[_ngcontent-%COMP%]   .avance-description[_ngcontent-%COMP%]   .desc-icon[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:0}.rtl[_nghost-%COMP%]   .avance-actions[_ngcontent-%COMP%]   .avance-amount[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .avance-actions[_ngcontent-%COMP%]   .avance-amount[_ngcontent-%COMP%]{margin-right:0;margin-left:.5rem}`]});var Pe=ne;var rn=[{path:"",component:_e,children:[{path:"",component:be},{path:"bateaux",loadChildren:()=>import("./chunk-MTDYHRFZ.js").then(r=>r.BateauxModule)},{path:"sorties",loadChildren:()=>import("./chunk-DS25MRJM.js").then(r=>r.SortiesModule),canActivate:[$]},{path:"ventes",loadComponent:()=>import("./chunk-6CL5BJWB.js").then(r=>r.VentesListComponent),canActivate:[$]},{path:"avances",canActivate:[$],children:[{path:"",component:Pe},{path:"add",component:ce},{path:"edit/:id",component:ce}]},{path:"salaires",loadComponent:()=>import("./chunk-HHWGUSOL.js").then(r=>r.SalairesListComponent),canActivate:[$]},{path:"mock-data",component:xe},{path:"",redirectTo:"",pathMatch:"full"}]}],Y=class Y{};Y.\u0275fac=function(e){return new(e||Y)},Y.\u0275mod=me({type:Y}),Y.\u0275inj=de({imports:[R,oe.forChild(rn),z,oe]});var Se=Y;var q=class q{};q.\u0275fac=function(e){return new(e||q)},q.\u0275mod=me({type:q}),q.\u0275inj=de({imports:[R,Se,z]});var vt=q;export{vt as DashboardModule};
