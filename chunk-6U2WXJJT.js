import{a as y}from"./chunk-5SMMQZVJ.js";import{Cc as m,Dc as v,Ec as g,Fc as F,R as h,V as d,a as c,b as l,f as r,sc as b,uc as f,vc as p,wc as u,xc as a,yc as M,zc as o}from"./chunk-S7C4YWPX.js";var t=class t{constructor(i,e){this.firestore=i;this.finEvents=e;this.collectionName="marins"}getMarinsByBateau(i){let e=a(this.firestore,this.collectionName),n=v(e,F("bateauId","==",i),m("nom"));return f(n,{idField:"id"})}getAllMarins(){let i=a(this.firestore,this.collectionName),e=v(i,m("nom","asc"));return f(e,{idField:"id"})}getMarins(){return this.getAllMarins()}getMarin(i){let e=o(this.firestore,this.collectionName,i);return p(e,{idField:"id"})}addMarin(i){return r(this,null,function*(){let e=l(c({},i),{createdAt:new Date,updatedAt:new Date}),n=a(this.firestore,this.collectionName),s=yield u(n,e);return this.finEvents.notifyFinancialChange(),s.id})}updateMarin(i,e){return r(this,null,function*(){let n=l(c({},e),{updatedAt:new Date}),s=o(this.firestore,this.collectionName,i);yield g(s,n),this.finEvents.notifyFinancialChange()})}deleteMarin(i){return r(this,null,function*(){let e=o(this.firestore,this.collectionName,i);yield M(e),this.finEvents.notifyFinancialChange()})}};t.\u0275fac=function(e){return new(e||t)(d(b),d(y))},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});var w=t;export{w as a};
