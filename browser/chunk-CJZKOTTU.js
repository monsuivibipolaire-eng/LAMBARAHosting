import{Cc as d,Dc as A,Ec as l,R as m,V as f,f as r,rc as p,tc as s,vc as u,wc as a,xc as v,yc as c}from"./chunk-CR22WOQI.js";var o=class o{constructor(e){this.firestore=e;this.collectionName="avances"}getAvancesByMarin(e){let t=a(this.firestore,this.collectionName),i=d(t,l("marinId","==",e));return s(i,{idField:"id"})}getAvancesByBateau(e){let t=a(this.firestore,this.collectionName),i=d(t,l("bateauId","==",e));return s(i,{idField:"id"})}addAvance(e){return r(this,null,function*(){let t=a(this.firestore,this.collectionName),i={marinId:e.marinId,bateauId:e.bateauId,montant:e.montant,dateAvance:e.dateAvance,createdAt:new Date};return e.description&&e.description.trim()!==""&&(i.description=e.description),yield u(t,i)})}updateAvance(e,t){return r(this,null,function*(){let i=c(this.firestore,`${this.collectionName}/${e}`),n={};return t.montant!==void 0&&(n.montant=t.montant),t.dateAvance!==void 0&&(n.dateAvance=t.dateAvance),t.description!==void 0&&(t.description&&t.description.trim()!==""?n.description=t.description:n.description=""),yield A(i,n)})}deleteAvance(e){return r(this,null,function*(){let t=c(this.firestore,`${this.collectionName}/${e}`);return yield v(t)})}};o.\u0275fac=function(t){return new(t||o)(f(p))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});var b=o;export{b as a};
