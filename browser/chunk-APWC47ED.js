import{Cc as g,Dc as p,Ec as v,R as l,V as n,f as i,rc as d,tc as c,uc as b,vc as u,wc as f,xc as m,yc as s}from"./chunk-CR22WOQI.js";var o=class o{constructor(e){this.firestore=e;this.sortiesCollection=f(this.firestore,"sorties")}getSorties(){return c(this.sortiesCollection,{idField:"id"})}getSortie(e){let t=s(this.firestore,"sorties",e);return b(t,{idField:"id"})}getSortiesByBateau(e){console.log("\u{1F50D} getSortiesByBateau appel\xE9 avec bateauId:",e);let t=g(this.sortiesCollection,v("bateauId","==",e)),r=c(t,{idField:"id"});return r.subscribe(a=>{console.log(`\u{1F4CA} Sorties trouv\xE9es pour bateau ${e}:`,a.length),a.length>0&&console.log("\u{1F4E6} Premi\xE8re sortie:",a[0])}),r}addSortie(e){return i(this,null,function*(){console.log("\u2795 Ajout sortie:",e);let t=yield u(this.sortiesCollection,e);return console.log("\u2705 Sortie ajout\xE9e avec ID:",t.id),t.id})}updateSortie(e,t){return i(this,null,function*(){let r=s(this.firestore,"sorties",e);yield p(r,t)})}deleteSortie(e){return i(this,null,function*(){let t=s(this.firestore,"sorties",e);yield m(t)})}};o.\u0275fac=function(t){return new(t||o)(n(d))},o.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"});var S=o;export{S as a};
