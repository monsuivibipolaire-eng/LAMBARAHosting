import{a as me,b as w,c as ge,d as fe,f as ue,g as et,h as be,i as ve,j as he,k as _e,l as Se,n as Ce,o as Oe,p as Me}from"./chunk-26EYTVDW.js";import{a as k}from"./chunk-AMBWZGM5.js";import{g as F,i as N,j as xe,l as Pe}from"./chunk-BEFTMFMP.js";import{a as Ae}from"./chunk-CWU3KASA.js";import{a as L}from"./chunk-APWC47ED.js";import{a as ot}from"./chunk-CKQYWLKT.js";import{a as Ee,b as lt}from"./chunk-IWNCJQQP.js";import{$ as E,$b as q,Ab as U,Bb as Je,Bc as it,Cc as Te,Dc as ke,E as Xe,Ec as De,Ia as f,L as Ye,Na as y,Oa as Ke,R as oe,Ra as h,S as We,Tb as le,V as re,Vb as ce,Wb as B,Xb as R,Yb as de,Zb as pe,_b as Ze,a as x,aa as I,ab as m,b as P,ba as _,bb as o,ca as O,cb as i,db as b,e as st,eb as D,f as C,fb as S,fc as tt,gb as v,gc as T,hc as X,kb as Qe,mb as ae,nb as a,ob as d,p as He,pb as u,qb as se,rc as Ie,tc as we,u as qe,ub as H,vc as ye,wc as ee,xb as $,xc as nt,ya as n,yb as l,yc as te,zb as c}from"./chunk-CR22WOQI.js";function dt(s,e){if(s&1){let t=D();o(0,"tr")(1,"td",10),a(2),i(),o(3,"td"),a(4),i(),o(5,"td"),a(6),i(),o(7,"td")(8,"span",11),a(9),i()(),o(10,"td",12)(11,"button",13),l(12,"translate"),S("click",function(){let p=E(t).$implicit,g=v();return I(g.viewDetails(p.id))}),_(),o(13,"svg",14),b(14,"path",15)(15,"path",16),i()(),O(),o(16,"button",17),l(17,"translate"),S("click",function(){let p=E(t).$implicit,g=v();return I(g.editSortie(p.id))}),_(),o(18,"svg",14),b(19,"path",18),i()(),O(),o(20,"button",19),l(21,"translate"),S("click",function(){let p=E(t).$implicit,g=v();return I(g.deleteSortie(p))}),_(),o(22,"svg",14),b(23,"path",20),i()()()()}if(s&2){let t=e.$implicit,r=v();n(2),d(t.destination),n(2),d(r.formatDate(t.dateDepart)),n(2),d(r.formatDate(t.dateRetour)),n(2),m("ngClass",r.getStatutClass(t.statut)),n(),u(" ",t.statut," "),n(2),m("title",H(c(12,11,"G\xE9rer la sortie"))),n(5),m("title",H(c(17,13,"BOATS.EDIT"))),n(4),m("title",H(c(21,15,"BOATS.DELETE")))}}var Y=class Y{constructor(e,t,r,p){this.sortieService=e;this.selectedBoatService=t;this.alertService=r;this.router=p;this.selectedBoat=null}ngOnInit(){this.selectedBoat=this.selectedBoatService.getSelectedBoat(),this.selectedBoat?.id?(this.sorties$=this.sortieService.getSortiesByBateau(this.selectedBoat.id),console.log("\u{1F6A2} Chargement des sorties pour:",this.selectedBoat.nom)):(console.warn("\u26A0\uFE0F Aucun bateau s\xE9lectionn\xE9"),this.alertService.warning("Veuillez d'abord s\xE9lectionner un bateau"),this.router.navigate(["/dashboard/bateaux"]))}formatDate(e){return e?e.toDate?e.toDate().toLocaleDateString("fr-FR"):e instanceof Date?e.toLocaleDateString("fr-FR"):String(e):""}getStatutClass(e){return`status-${e}`}addSortie(){this.router.navigate(["/dashboard/sorties/add"])}editSortie(e){this.router.navigate(["/dashboard/sorties/edit",e])}deleteSortie(e){return C(this,null,function*(){if((yield this.alertService.confirmDelete(`la sortie ${e.destination}`))&&e.id)try{yield this.sortieService.deleteSortie(e.id),this.alertService.toast("Sortie supprim\xE9e avec succ\xE8s","success")}catch{this.alertService.error("Erreur lors de la suppression")}})}viewDetails(e){this.router.navigate(["/dashboard/sorties/details",e])}};Y.\u0275fac=function(t){return new(t||Y)(f(L),f(Ee),f(k),f(N))},Y.\u0275cmp=y({type:Y,selectors:[["app-sorties-list"]],standalone:!1,decls:32,vars:24,consts:[[1,"bateaux-container"],[1,"header"],[1,"title"],[1,"btn","btn-primary",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"table-container"],[1,"data-table"],[1,"actions-header"],[4,"ngFor","ngForOf"],[1,"font-bold"],[1,"status-badge",3,"ngClass"],[1,"actions"],[1,"btn-icon","btn-info",3,"click","title"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"btn-icon","btn-warning",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-icon","btn-danger",3,"click","title"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3),l(4,"translate"),i(),o(5,"button",3),S("click",function(){return r.addSortie()}),_(),o(6,"svg",4),b(7,"path",5),i(),a(8),l(9,"translate"),i()(),O(),o(10,"div",6)(11,"table",7)(12,"thead")(13,"tr")(14,"th"),a(15),l(16,"translate"),i(),o(17,"th"),a(18),l(19,"translate"),i(),o(20,"th"),a(21),l(22,"translate"),i(),o(23,"th"),a(24),l(25,"translate"),i(),o(26,"th",8),a(27),l(28,"translate"),i()()(),o(29,"tbody"),h(30,dt,24,17,"tr",9),l(31,"async"),i()()()()),t&2&&(n(3),d(c(4,8,"SORTIES.TITLE")),n(5),u(" ",c(9,10,"SORTIES.ADD")," "),n(7),d(c(16,12,"SORTIES.DESTINATION")),n(3),d(c(19,14,"SORTIES.DATEDEPART")),n(3),d(c(22,16,"SORTIES.DATERETOUR")),n(3),d(c(25,18,"SORTIES.STATUT")),n(3),d(c(28,20,"BOATS.ACTIONS")),n(3),m("ngForOf",c(31,22,r.sorties$)))},dependencies:[ce,B,de,T],styles:[".bateaux-container[_ngcontent-%COMP%]{max-width:100%;width:100%}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:1rem;flex-wrap:wrap}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow-x:auto;width:100%;-webkit-overflow-scrolling:touch}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:800px}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#374151;border-bottom:2px solid #e5e7eb;white-space:nowrap}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;transition:background-color .2s}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.font-bold[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:9999px;font-size:.875rem;font-weight:600;text-transform:capitalize;white-space:nowrap}.status-en-cours[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.status-terminee[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.status-annulee[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s;white-space:nowrap}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-2px);box-shadow:0 4px 6px #3b82f64d}.btn-icon[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:.375rem;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.btn-warning[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#fde68a}.btn-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fecaca}@media (max-width: 1024px){.title[_ngcontent-%COMP%]{font-size:1.75rem}.data-table[_ngcontent-%COMP%]{min-width:900px}}@media (max-width: 768px){.title[_ngcontent-%COMP%]{font-size:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.table-container[_ngcontent-%COMP%]{border-radius:.5rem;overflow-x:scroll}.data-table[_ngcontent-%COMP%]{font-size:.875rem;min-width:700px}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;font-size:.8125rem}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}.actions[_ngcontent-%COMP%]{flex-wrap:nowrap}}@media (max-width: 480px){.title[_ngcontent-%COMP%]{font-size:1.25rem}.data-table[_ngcontent-%COMP%]{font-size:.8125rem;min-width:600px}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .375rem;font-size:.75rem}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .375rem}.btn-icon[_ngcontent-%COMP%]{padding:.375rem}.btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.status-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .5rem}}"]});var Be=Y;function mt(s,e){if(s&1&&(o(0,"div",22)(1,"div",23),_(),o(2,"svg",24),b(3,"path",25),i(),O(),o(4,"span"),a(5),l(6,"translate"),o(7,"strong"),a(8),i(),a(9),i()()()),s&2){let t=v();n(5),u("",c(6,3,"BOATS.BOAT"),": "),n(3),d(t.selectedBoat.nom),n(),u(" (",t.selectedBoat.immatriculation,")")}}function gt(s,e){s&1&&(o(0,"span",26),a(1),l(2,"translate"),i()),s&2&&(n(),u(" ",c(2,1,"FORM.REQUIRED")," "))}function ft(s,e){s&1&&(o(0,"span"),a(1),l(2,"translate"),i()),s&2&&(n(),u("",c(2,1,"MESSAGES.SAVING"),"..."))}function ut(s,e){if(s&1&&(o(0,"span"),a(1),l(2,"translate"),i()),s&2){let t=v();n(),d(c(2,1,t.isEditMode?"FORM.EDIT":"FORM.ADD"))}}var W=class W{constructor(e,t,r,p,g,M){this.fb=e;this.sortieService=t;this.alertService=r;this.route=p;this.router=g;this.selectedBoatService=M;this.isEditMode=!1;this.loading=!1;this.selectedBoat=null}ngOnInit(){if(this.id=this.route.snapshot.paramMap.get("id")??void 0,this.isEditMode=!!this.id,this.selectedBoat=this.selectedBoatService.getSelectedBoat(),!this.selectedBoat&&!this.isEditMode){this.alertService.error("Veuillez d'abord s\xE9lectionner un bateau"),this.router.navigate(["/dashboard/bateaux"]);return}this.form=this.fb.group({bateauId:[this.selectedBoat?.id||"",w.required],destination:["",w.required],dateDepart:["",w.required],dateRetour:["",w.required],statut:["en-cours",w.required],observations:[""]}),this.form.get("bateauId")?.disable(),this.isEditMode&&this.loadSortie()}loadSortie(){this.sortieService.getSortie(this.id).subscribe(e=>{this.form.patchValue(P(x({},e),{dateDepart:this.formatDate(e.dateDepart),dateRetour:this.formatDate(e.dateRetour)}))})}formatDate(e){return e?.toDate?e.toDate().toISOString().split("T")[0]:e instanceof Date?e.toISOString().split("T")[0]:""}onSubmit(){return C(this,null,function*(){if(this.form.valid){this.loading=!0,this.alertService.loading("Enregistrement en cours...");let e=P(x({},this.form.getRawValue()),{dateDepart:new Date(this.form.value.dateDepart),dateRetour:new Date(this.form.value.dateRetour)});try{this.isEditMode?(yield this.sortieService.updateSortie(this.id,e),this.alertService.close(),yield this.alertService.success("La sortie a \xE9t\xE9 modifi\xE9e avec succ\xE8s","Modification r\xE9ussie!")):(yield this.sortieService.addSortie(e),this.alertService.close(),yield this.alertService.success("La sortie a \xE9t\xE9 ajout\xE9e avec succ\xE8s","Ajout r\xE9ussi!")),this.router.navigate(["/dashboard/sorties"])}catch{this.alertService.close(),this.alertService.error("Erreur lors de l'enregistrement")}finally{this.loading=!1}}else this.markFormGroupTouched(this.form),this.alertService.warning("Veuillez remplir tous les champs requis","Formulaire incomplet")})}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})}cancel(){this.router.navigate(["/dashboard/sorties"])}};W.\u0275fac=function(t){return new(t||W)(f(Ce),f(L),f(k),f(F),f(N),f(Ee))},W.\u0275cmp=y({type:W,selectors:[["app-sortie-form"]],standalone:!1,decls:50,vars:43,consts:[[1,"form-container"],[1,"form-header"],[1,"form-title"],["class","selected-boat-info",4,"ngIf"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],["type","text","formControlName","destination",1,"form-input"],["class","error-message",4,"ngIf"],["type","date","formControlName","dateDepart",1,"form-input"],["type","date","formControlName","dateRetour",1,"form-input"],["formControlName","statut",1,"form-input"],["value","en-cours"],["value","terminee"],["value","annulee"],[1,"form-group","full-width"],["formControlName","observations","rows","3",1,"form-input"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"selected-boat-info"],[1,"boat-badge"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"error-message"]],template:function(t,r){if(t&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3),l(4,"translate"),i()(),h(5,mt,10,5,"div",3),o(6,"form",4),S("ngSubmit",function(){return r.onSubmit()}),o(7,"div",5)(8,"div",6)(9,"label",7),a(10),l(11,"translate"),i(),b(12,"input",8),h(13,gt,3,3,"span",9),i(),o(14,"div",6)(15,"label",7),a(16),l(17,"translate"),i(),b(18,"input",10),i(),o(19,"div",6)(20,"label",7),a(21),l(22,"translate"),i(),b(23,"input",11),i(),o(24,"div",6)(25,"label",7),a(26),l(27,"translate"),i(),o(28,"select",12)(29,"option",13),a(30),l(31,"translate"),i(),o(32,"option",14),a(33),l(34,"translate"),i(),o(35,"option",15),a(36),l(37,"translate"),i()()(),o(38,"div",16)(39,"label",7),a(40),l(41,"translate"),i(),b(42,"textarea",17),i()(),o(43,"div",18)(44,"button",19),S("click",function(){return r.cancel()}),a(45),l(46,"translate"),i(),o(47,"button",20),h(48,ft,3,3,"span",21)(49,ut,3,3,"span",21),i()()()()),t&2){let p,g,M,A;n(3),d(c(4,23,r.isEditMode?"SORTIES.EDIT":"SORTIES.ADD")),n(2),m("ngIf",r.selectedBoat),n(),m("formGroup",r.form),n(4),u("",c(11,25,"SORTIES.DESTINATION")," *"),n(2),ae("error",((p=r.form.get("destination"))==null?null:p.invalid)&&((p=r.form.get("destination"))==null?null:p.touched)),n(),m("ngIf",((g=r.form.get("destination"))==null?null:g.hasError("required"))&&((g=r.form.get("destination"))==null?null:g.touched)),n(3),u("",c(17,27,"SORTIES.DATEDEPART")," *"),n(2),ae("error",((M=r.form.get("dateDepart"))==null?null:M.invalid)&&((M=r.form.get("dateDepart"))==null?null:M.touched)),n(3),u("",c(22,29,"SORTIES.DATERETOUR")," *"),n(2),ae("error",((A=r.form.get("dateRetour"))==null?null:A.invalid)&&((A=r.form.get("dateRetour"))==null?null:A.touched)),n(3),u("",c(27,31,"SORTIES.STATUT")," *"),n(4),d(c(31,33,"SORTIES.STATUS.ONGOING")),n(3),d(c(34,35,"SORTIES.STATUS.COMPLETED")),n(3),d(c(37,37,"SORTIES.STATUS.CANCELLED")),n(4),d(c(41,39,"SORTIES.OBSERVATIONS")),n(4),m("disabled",r.loading),n(),u(" ",c(46,41,"FORM.CANCEL")," "),n(2),m("disabled",r.loading),n(),m("ngIf",r.loading),n(),m("ngIf",!r.loading)}},dependencies:[R,ue,_e,Se,me,he,ge,fe,be,ve,T],styles:[".form-container[_ngcontent-%COMP%]{max-width:900px;width:100%;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:2rem;margin:0 auto}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem}.form-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1f2937;margin:0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;margin-bottom:.5rem;font-size:.875rem}.form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem;transition:all .2s;width:100%}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-input.error[_ngcontent-%COMP%]{border-color:#ef4444}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.75rem;margin-top:.25rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:1px solid #e5e7eb;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s;white-space:nowrap}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb;transform:translateY(-2px);box-shadow:0 4px 6px #3b82f64d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4b5563}@media (max-width: 768px){.form-container[_ngcontent-%COMP%]{padding:1.5rem;border-radius:.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.75rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 480px){.form-container[_ngcontent-%COMP%]{padding:1rem}.form-title[_ngcontent-%COMP%]{font-size:1.25rem}.form-input[_ngcontent-%COMP%]{padding:.625rem;font-size:.9375rem}.btn[_ngcontent-%COMP%]{padding:.625rem 1.5rem}}.selected-boat-info[_ngcontent-%COMP%]{margin-bottom:2rem}.selected-boat-info[_ngcontent-%COMP%]   .boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:#d1fae5;color:#065f46;padding:1rem 1.5rem;border-radius:.75rem;border:2px solid #10b981;font-size:1rem}.selected-boat-info[_ngcontent-%COMP%]   .boat-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.selected-boat-info[_ngcontent-%COMP%]   .boat-badge[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#047857}"]});var ne=W;var j=class j{constructor(e){this.firestore=e}getFacturesBySortie(e){let t=ee(this.firestore,"factures"),r=Te(t,De("sortieId","==",e),it("dateFacture","desc"));return we(r,{idField:"id"})}addFacture(e){return C(this,null,function*(){let t=ee(this.firestore,"factures");return yield ye(t,P(x({},e),{createdAt:new Date,updatedAt:new Date}))})}updateFacture(e,t){return C(this,null,function*(){let r=te(this.firestore,"factures/"+e);yield ke(r,P(x({},t),{updatedAt:new Date}))})}deleteFacture(e){return C(this,null,function*(){let t=te(this.firestore,"factures/"+e);yield nt(t)})}};j.\u0275fac=function(t){return new(t||j)(re(Ie))},j.\u0275prov=oe({token:j,factory:j.\u0275fac,providedIn:"root"});var je=j;var rt=s=>["/dashboard/sorties/salaires",s],_t=s=>["/dashboard/sorties/details",s,"pointage"];function St(s,e){if(s&1&&(o(0,"div",21)(1,"div",9)(2,"h2"),a(3),l(4,"translate"),i(),o(5,"button",16),_(),o(6,"svg",11),b(7,"path",22),i(),a(8),l(9,"translate"),i()(),O(),o(10,"div",23)(11,"div",24)(12,"span",25),a(13),l(14,"translate"),i(),o(15,"span",26),a(16),i()(),o(17,"div",24)(18,"span",25),a(19),l(20,"translate"),i(),o(21,"span",26),a(22),i()(),o(23,"div",24)(24,"span",25),a(25),l(26,"translate"),i(),o(27,"span",26),a(28),i()(),o(29,"div",24)(30,"span",25),a(31),l(32,"translate"),i(),o(33,"span",26),a(34),i()()()()),s&2){let t=e.ngIf,r=v();n(3),d(c(4,11,"SORTIES.GENERALINFO")),n(2),m("routerLink",$(23,_t,r.sortieId)),n(3),u(" ",c(9,13,"POINTAGE.CREW")," "),n(5),d(c(14,15,"SORTIES.DATEDEPART")),n(3),d(r.formatDate(t.dateDepart)),n(3),d(c(20,17,"SORTIES.DATERETOUR")),n(3),d(r.formatDate(t.dateRetour)),n(3),d(c(26,19,"SORTIES.DESTINATION")),n(3),d(t.destination),n(3),d(c(32,21,"SORTIES.STATUT")),n(3),d(t.statut)}}function Ct(s,e){s&1&&(o(0,"div",30),a(1),l(2,"translate"),i()),s&2&&(n(),u(" ",c(2,1,"EXPENSES.NOEXPENSE")," "))}function Ot(s,e){if(s&1&&(o(0,"span",43),a(1),i()),s&2){let t=v().$implicit;n(),d(t.description)}}function Mt(s,e){if(s&1){let t=D();o(0,"div",31)(1,"div",32)(2,"div",33),a(3),i(),o(4,"div",34)(5,"span",35),a(6),l(7,"date"),i(),h(8,Ot,2,1,"span",36),i()(),o(9,"div",37)(10,"span",38),a(11),i(),o(12,"button",39),S("click",function(){let p=E(t).$implicit,g=v(2);return I(g.editDepense(p.id))}),_(),o(13,"svg",4),b(14,"path",40),i()(),O(),o(15,"button",41),S("click",function(){let p=E(t).$implicit,g=v(2);return I(g.deleteDepense(p))}),_(),o(16,"svg",4),b(17,"path",42),i()()()()}if(s&2){let t=e.$implicit,r=v(2);n(3),d(r.getExpenseTypeName(t.type)),n(3),d(U(7,4,t.date,"dd/MM/yyyy")),n(2),m("ngIf",t.description),n(3),u("",t.montant," DT")}}function xt(s,e){if(s&1&&(o(0,"div",27),h(1,Ct,3,3,"div",28)(2,Mt,18,7,"div",29),i()),s&2){let t=e.ngIf;n(),m("ngIf",t.length===0),n(),m("ngForOf",t)}}function Pt(s,e){s&1&&(o(0,"div",30),a(1),l(2,"translate"),i()),s&2&&(n(),u(" ",c(2,1,"FACTURES.NOFACTURE")," "))}function Et(s,e){if(s&1&&(o(0,"div",31)(1,"span",33),a(2),i(),o(3,"span",38),a(4),l(5,"number"),i()()),s&2){let t=e.$implicit;n(2),se("",t.numeroFacture," - ",t.client),n(2),u("",U(5,3,t.montantTotal,"1.2-2")," TND")}}function It(s,e){if(s&1&&(o(0,"div",27),h(1,Pt,3,3,"div",28)(2,Et,6,6,"div",29),i()),s&2){let t=e.ngIf;n(),m("ngIf",t.length===0),n(),m("ngForOf",t)}}function wt(s,e){s&1&&(o(0,"div",30),a(1),l(2,"translate"),i()),s&2&&(n(),d(c(2,1,"FACTURES.NOFACTURE")))}var K=class K{constructor(e,t,r,p,g,M,A){this.route=e;this.sortieService=t;this.factureService=r;this.depenseService=p;this.alertService=g;this.router=M;this.location=A}ngOnInit(){this.sortieId=this.route.snapshot.paramMap.get("id"),this.sortieId&&(this.sortie=this.sortieService.getSortie(this.sortieId),this.loadFactures(),this.loadDepenses())}loadFactures(){this.factures=this.factureService.getFacturesBySortie(this.sortieId)}goBack(){this.location.back()}formatDate(e){if(!e)return"-";let t=e.toDate?e.toDate():new Date(e);return new Intl.DateTimeFormat("fr-FR").format(t)}loadDepenses(){this.depenses=this.depenseService.getDepensesBySortie(this.sortieId)}addDepense(){this.router.navigate(["/dashboard/sorties/details",this.sortieId,"depenses","add"])}editDepense(e){this.router.navigate(["/dashboard/sorties/details",this.sortieId,"depenses","edit",e])}deleteDepense(e){return C(this,null,function*(){if(!e.id)return;if(yield this.alertService.confirmDelete(`la d\xE9pense de type ${e.type}`))try{yield this.depenseService.deleteDepense(e.id),this.alertService.toast("D\xE9pense supprim\xE9e avec succ\xE8s","success")}catch(r){this.alertService.error("Erreur lors de la suppression"),console.error(r)}})}getExpenseTypeName(e){return{fuel:"Carburant",ice:"Glace",oilchange:"Vidange",crewcnss:"CNSS \xC9quipage",crewbonus:"Prime \xC9quipage",food:"Alimentation",vms:"VMS",misc:"Divers"}[e]||e}};K.\u0275fac=function(t){return new(t||K)(f(F),f(L),f(je),f(Ae),f(k),f(N),f(le))},K.\u0275cmp=y({type:K,selectors:[["app-sortie-details"]],standalone:!1,decls:56,vars:43,consts:[["noFactures",""],[1,"details-container"],[1,"header"],[1,"btn-back",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"title"],["class","info-card",4,"ngIf"],[1,"section-card"],[1,"section-header"],[1,"btn","btn-primary",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","list-items",4,"ngIf"],["class","list-items",4,"ngIf","ngIfElse"],[1,"section-card",2,"margin-top","1.5rem"],[1,"btn","btn-primary",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"btn","btn-success",3,"routerLink"],[1,"section-content"],[2,"color","#6b7280","margin","0"],[1,"info-card"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"list-items"],["class","no-data",4,"ngIf"],["class","list-item",4,"ngFor","ngForOf"],[1,"no-data"],[1,"list-item"],[1,"item-info"],[1,"item-type"],[1,"item-details"],[1,"item-date"],["class","item-description",4,"ngIf"],[1,"item-actions"],[1,"item-amount"],[1,"btn-icon","btn-warning",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"btn-icon","btn-danger",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"item-description"]],template:function(t,r){if(t&1){let p=D();o(0,"div",1)(1,"div",2)(2,"button",3),S("click",function(){return E(p),I(r.goBack())}),_(),o(3,"svg",4),b(4,"path",5),i(),a(5),l(6,"translate"),i(),O(),o(7,"h1",6),a(8),l(9,"translate"),i()(),h(10,St,35,25,"div",7),l(11,"async"),o(12,"div",8)(13,"div",9)(14,"h2"),a(15),l(16,"translate"),i(),o(17,"button",10),S("click",function(){return E(p),I(r.addDepense())}),_(),o(18,"svg",11),b(19,"path",12),i(),a(20),l(21,"translate"),i()(),h(22,xt,3,2,"div",13),l(23,"async"),i(),O(),o(24,"div",8)(25,"div",9)(26,"h2"),a(27),l(28,"translate"),i()(),h(29,It,3,2,"div",14),l(30,"async"),h(31,wt,3,3,"ng-template",null,0,Je),i()(),o(33,"div",15)(34,"div",9)(35,"h2"),a(36,"Gestion des salaires"),i(),o(37,"a",16),_(),o(38,"svg",11),b(39,"path",17),i(),a(40),l(41,"translate"),i()()(),O(),o(42,"div",8)(43,"div",9)(44,"h2"),a(45),l(46,"translate"),i(),o(47,"a",18),_(),o(48,"svg",11),b(49,"path",17),i(),a(50),l(51,"translate"),i()(),O(),o(52,"div",19)(53,"p",20),a(54),l(55,"translate"),i()()()}if(t&2){let p=Qe(32);n(5),u(" ",c(6,15,"SAILORS.BACK")," "),n(3),d(c(9,17,"SORTIES.DETAILSTITLE")),n(2),m("ngIf",c(11,19,r.sortie)),n(5),d(c(16,21,"EXPENSES.TITLE")),n(5),u(" ",c(21,23,"EXPENSES.ADD")," "),n(2),m("ngIf",c(23,25,r.depenses)),n(5),d(c(28,27,"FACTURES.TITLE")),n(2),m("ngIf",c(30,29,r.factures))("ngIfElse",p),n(8),m("routerLink",$(39,rt,r.sortieId)),n(3),u(" ",c(41,31,"SALAIRES.CALCULER")," "),n(5),d(c(46,33,"SALAIRES.TITLE")),n(2),m("routerLink",$(41,rt,r.sortieId)),n(3),u(" ",c(51,35,"SALAIRES.CALCULER")," "),n(4),u(" ",c(55,37,"SALAIRES.DESCRIPTION")," ")}},dependencies:[B,R,xe,de,Ze,pe,T],styles:['@charset "UTF-8";.details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:1rem;flex-wrap:wrap}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.section-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow:hidden;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin:0}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;padding:1.5rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:1rem;color:#1f2937;font-weight:600}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;border-radius:9999px;font-size:.875rem;font-weight:600;text-transform:capitalize}.status-en-cours[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.status-terminee[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.status-annulee[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.list-items[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #f3f4f6}.list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1}.item-details[_ngcontent-%COMP%]   .item-type[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.item-details[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.item-details[_ngcontent-%COMP%]   .item-date[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.item-amount[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1f2937;margin-right:1rem}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.btn-icon[_ngcontent-%COMP%]{padding:.5rem;border:none;border-radius:.375rem;cursor:pointer;transition:all .2s;background-color:transparent}.btn-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.btn-warning[_ngcontent-%COMP%]{color:#92400e}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#fef3c7}.btn-danger[_ngcontent-%COMP%]{color:#991b1b}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#fee2e2}.no-data[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#9ca3af}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem}@media (max-width: 768px){.details-container[_ngcontent-%COMP%]{padding:1rem}.title[_ngcontent-%COMP%]{font-size:1.5rem}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.item-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-2px);box-shadow:0 4px 6px #10b9814d}']});var ze=K;function yt(s,e){if(s&1&&(o(0,"option",17),a(1),l(2,"translate"),i()),s&2){let t=e.$implicit;m("value",t.toLowerCase()),n(),u(" ",c(2,2,"EXPENSES.TYPES."+t)," ")}}function Tt(s,e){s&1&&(o(0,"span"),a(1),l(2,"translate"),i()),s&2&&(n(),u("",c(2,1,"MESSAGES.SAVING"),"..."))}function kt(s,e){if(s&1&&(o(0,"span"),a(1),l(2,"translate"),i()),s&2){let t=v();n(),d(c(2,1,t.isEditMode?"FORM.EDIT":"FORM.SAVE"))}}var Q=class Q{constructor(e,t,r,p,g,M){this.fb=e;this.route=t;this.router=r;this.depenseService=p;this.alertService=g;this.location=M;this.isEditMode=!1;this.loading=!1;this.expenseKeys=["FUEL","ICE","OIL_CHANGE","CREW_CNSS","CREW_BONUS","FOOD","VMS","MISC"]}ngOnInit(){this.sortieId=this.route.snapshot.paramMap.get("id"),this.depenseId=this.route.snapshot.paramMap.get("depenseId")||void 0,this.isEditMode=!!this.depenseId,this.initForm(),this.isEditMode&&this.depenseId&&(this.loading=!0,this.depenseService.getDepense(this.depenseId).subscribe(e=>{e&&this.form.patchValue(P(x({},e),{date:this.formatDate(e.date)})),this.loading=!1}))}initForm(){this.form=this.fb.group({type:["fuel",w.required],montant:[null,[w.required,w.min(.01)]],date:[new Date().toISOString().substring(0,10),w.required],description:[""]})}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toISOString().split("T")[0]:new Date().toISOString().substring(0,10)}onSubmit(){return C(this,null,function*(){if(this.form.invalid){this.alertService.warning("Veuillez remplir tous les champs obligatoires.","Formulaire incomplet");return}this.loading=!0;let e=this.form.value,t=P(x({},e),{sortieId:this.sortieId,date:new Date(e.date)});try{this.isEditMode&&this.depenseId?(yield this.depenseService.updateDepense(this.depenseId,t),yield this.alertService.toast("EXPENSES.SUCCESS_UPDATE","success")):(yield this.depenseService.addDepense(t),yield this.alertService.toast("EXPENSES.SUCCESS_ADD","success")),this.router.navigate(["/dashboard/sorties/details",this.sortieId])}catch(r){console.error("Erreur lors de la sauvegarde de la d\xE9pense",r),this.alertService.error("Une erreur est survenue.","Erreur")}finally{this.loading=!1}})}cancel(){this.location.back()}};Q.\u0275fac=function(t){return new(t||Q)(f(Ce),f(F),f(N),f(Ae),f(k),f(le))},Q.\u0275cmp=y({type:Q,selectors:[["app-depense-form"]],decls:35,vars:24,consts:[[1,"form-container"],[1,"form-header"],[1,"form-title"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],["formControlName","type",1,"form-input"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","montant","placeholder","0.00",1,"form-input"],["type","date","formControlName","date",1,"form-input"],[1,"form-group","full-width"],["formControlName","description","rows","3",1,"form-input"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[3,"value"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3),l(4,"translate"),i()(),o(5,"form",3),S("ngSubmit",function(){return r.onSubmit()}),o(6,"div",4)(7,"div",5)(8,"label",6),a(9),l(10,"translate"),i(),o(11,"select",7),h(12,yt,3,4,"option",8),i()(),o(13,"div",5)(14,"label",6),a(15),l(16,"translate"),i(),b(17,"input",9),i(),o(18,"div",5)(19,"label",6),a(20),l(21,"translate"),i(),b(22,"input",10),i(),o(23,"div",11)(24,"label",6),a(25),l(26,"translate"),i(),b(27,"textarea",12),i()(),o(28,"div",13)(29,"button",14),S("click",function(){return r.cancel()}),a(30),l(31,"translate"),i(),o(32,"button",15),h(33,Tt,3,3,"span",16)(34,kt,3,3,"span",16),i()()()()),t&2&&(n(3),d(c(4,12,r.isEditMode?"EXPENSES.EDIT":"EXPENSES.ADD")),n(2),m("formGroup",r.form),n(4),d(c(10,14,"EXPENSES.TYPE")),n(3),m("ngForOf",r.expenseKeys),n(3),d(c(16,16,"EXPENSES.AMOUNT")),n(5),d(c(21,18,"EXPENSES.DATE")),n(5),d(c(26,20,"EXPENSES.DESCRIPTION")),n(4),m("disabled",r.loading),n(),u(" ",c(31,22,"FORM.CANCEL")," "),n(2),m("disabled",r.form.invalid||r.loading),n(),m("ngIf",r.loading),n(),m("ngIf",!r.loading))},dependencies:[q,B,R,Me,ue,_e,Se,me,et,he,ge,fe,be,ve,X,T],styles:[".form-container[_ngcontent-%COMP%]{max-width:900px;width:100%;background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:2rem;margin:0 auto}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem}.form-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1f2937;margin:0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;margin-bottom:.5rem;font-size:.875rem}.form-input[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:1rem;transition:all .2s;width:100%}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding-top:1.5rem;border-top:1px solid #e5e7eb;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s;white-space:nowrap}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#4b5563}"]});var J=Q;var Ue=st(lt());var z=class z{constructor(e){this.firestore=e;this.pointagesCollection=ee(this.firestore,"pointages")}getPointagesBySortie(e){let t=Te(this.pointagesCollection,De("sortieId","==",e));return we(t,{idField:"id"})}addPointage(e){return C(this,null,function*(){return yield ye(this.pointagesCollection,P(x({},e),{createdAt:new Date,updatedAt:new Date}))})}updatePointage(e,t){return C(this,null,function*(){let r=te(this.firestore,`pointages/${e}`);return yield ke(r,P(x({},t),{updatedAt:new Date}))})}};z.\u0275fac=function(t){return new(t||z)(re(Ie))},z.\u0275prov=oe({token:z,factory:z.\u0275fac,providedIn:"root"});var Ge=z;var At=s=>["/dashboard/sorties/details",s];function Bt(s,e){if(s&1){let t=D();o(0,"button",15),S("click",function(){E(t);let p=v();return I(p.addNewMarin())}),_(),o(1,"svg",3),b(2,"path",16),i(),a(3),l(4,"translate"),i()}s&2&&(n(3),u(" ",c(4,1,"SAILORS.ADD_SAILOR")," "))}function Rt(s,e){if(s&1&&(o(0,"span",20),a(1),l(2,"date"),l(3,"date"),i()),s&2){let t=v(2);n(),se(" ",U(2,2,t.sortie.dateDepart,"dd/MM/yyyy")," - ",U(3,5,t.sortie.dateRetour,"dd/MM/yyyy")," ")}}function Ft(s,e){if(s&1&&(o(0,"div",17)(1,"span",18),a(2),i(),h(3,Rt,4,8,"span",19),i()),s&2){let t=v();n(2),d(t.sortie.destination),n(),m("ngIf",t.sortie.dateDepart&&t.sortie.dateRetour)}}function Nt(s,e){s&1&&(o(0,"div",21),b(1,"div",22),o(2,"p"),a(3),l(4,"translate"),i()()),s&2&&(n(3),d(c(4,1,"MESSAGES.LOADING")))}function Lt(s,e){if(s&1&&(o(0,"div",23),_(),o(1,"svg",24),b(2,"path",25),i(),O(),o(3,"p"),a(4),i()()),s&2){let t=v();n(4),d(t.errorMessage)}}function Vt(s,e){if(s&1){let t=D();o(0,"div",26),_(),o(1,"svg",27),b(2,"path",28),i(),O(),o(3,"p"),a(4),l(5,"translate"),i(),o(6,"button",29),S("click",function(){E(t);let p=v();return I(p.addNewMarin())}),_(),o(7,"svg",3),b(8,"path",16),i(),a(9," Ajouter le premier marin "),i()()}s&2&&(n(4),d(c(5,1,"POINTAGE.NOCREW")))}function jt(s,e){if(s&1){let t=D();o(0,"tr")(1,"td",34),a(2),i(),o(3,"td"),a(4),i(),o(5,"td")(6,"span",35),a(7),l(8,"translate"),i()(),o(9,"td",32)(10,"label",36)(11,"input",37),S("change",function(p){let g=E(t).$implicit,M=v(2);return I(M.togglePresence(g.id,p))}),i(),b(12,"span",38),i()(),o(13,"td")(14,"input",39),l(15,"translate"),S("blur",function(p){let g=E(t).$implicit,M=v(2);return I(M.updateObservations(g.id,p.target.value))}),i()()()}if(s&2){let t=e.$implicit,r=v(2);n(2),d(t.nom),n(2),d(t.prenom),n(2),m("ngClass","fonction-"+t.fonction),n(),u(" ",c(8,8,"SAILORS."+t.fonction.toUpperCase())," "),n(4),m("checked",r.isPresent(t.id)),n(3),m("placeholder",H(c(15,10,"POINTAGE.ADDOBS")))("value",r.getObservations(t.id))}}function zt(s,e){if(s&1&&(o(0,"div",30)(1,"table",31)(2,"thead")(3,"tr")(4,"th"),a(5),l(6,"translate"),i(),o(7,"th"),a(8),l(9,"translate"),i(),o(10,"th"),a(11),l(12,"translate"),i(),o(13,"th",32),a(14),l(15,"translate"),i(),o(16,"th"),a(17),l(18,"translate"),i()()(),o(19,"tbody"),h(20,jt,16,12,"tr",33),i()()()),s&2){let t=v();n(5),d(c(6,6,"SAILORS.LASTNAME")),n(3),d(c(9,8,"SAILORS.FIRSTNAME")),n(3),d(c(12,10,"SAILORS.FUNCTION")),n(3),d(c(15,12,"POINTAGE.PRESENT")),n(3),d(c(18,14,"POINTAGE.OBSERVATIONS")),n(3),m("ngForOf",t.marins)}}function Gt(s,e){if(s&1&&(o(0,"div",40)(1,"div",41)(2,"div",42)(3,"span",43),a(4),l(5,"translate"),i(),o(6,"span",44),a(7),i()(),o(8,"div",45)(9,"span",43),a(10),l(11,"translate"),i(),o(12,"span",44),a(13),i()(),o(14,"div",46)(15,"span",43),a(16),l(17,"translate"),i(),o(18,"span",44),a(19),i()()()()),s&2){let t=v();n(4),d(c(5,6,"POINTAGE.TOTAL")),n(3),d(t.marins.length),n(3),d(c(11,8,"POINTAGE.PRESENT")),n(3),d(t.nombrePresents),n(3),d(c(17,10,"POINTAGE.ABSENT")),n(3),d(t.nombreAbsents)}}var Z=class Z{constructor(e,t,r,p,g,M){this.route=e;this.marinService=t;this.pointageService=r;this.sortieService=p;this.alertService=g;this.translate=M;this.marins=[];this.pointages=[];this.loading=!0;this.errorMessage=""}ngOnInit(){this.sortieId=this.route.snapshot.paramMap.get("id"),this.loadData()}loadData(){this.sortieService.getSortie(this.sortieId).pipe(Xe(1),Ye(e=>e?e.bateauId?(this.sortie=e,qe([this.marinService.getMarinsByBateau(e.bateauId),this.pointageService.getPointagesBySortie(this.sortieId)])):(this.errorMessage="Aucun bateau associ\xE9 \xE0 cette sortie",He([[],[]])):(this.errorMessage="Sortie introuvable",He([[],[]])))).subscribe({next:([e,t])=>{this.marins=e,this.pointages=t,e.length===0&&(this.errorMessage="Aucun marin affect\xE9 \xE0 ce bateau"),this.loading=!1},error:e=>{console.error("\u274C Erreur chargement:",e),this.errorMessage="Erreur lors du chargement des donn\xE9es",this.alertService.error("Erreur lors du chargement des donn\xE9es"),this.loading=!1}})}addNewMarin(){return C(this,null,function*(){if(!this.sortie?.bateauId){this.alertService.error("Aucun bateau associ\xE9 \xE0 cette sortie");return}let e={title:this.translate.instant("SAILORS.ADD_NEW_SAILOR"),lastname:this.translate.instant("SAILORS.LASTNAME"),firstname:this.translate.instant("SAILORS.FIRSTNAME"),function:this.translate.instant("SAILORS.FUNCTION"),selectFunction:this.translate.instant("SAILORS.SELECT_FUNCTION"),phone:this.translate.instant("SAILORS.PHONE"),birthdate:this.translate.instant("SAILORS.BIRTHDATE"),captain:this.translate.instant("SAILORS.CAPITAINE"),second:this.translate.instant("SAILORS.SECOND"),mechanic:this.translate.instant("SAILORS.MECANICIEN"),sailor:this.translate.instant("SAILORS.MATELOT"),add:this.translate.instant("FORM.ADD"),cancel:this.translate.instant("FORM.CANCEL"),requiredFields:this.translate.instant("FORM.REQUIRED_FIELDS"),placeholderLastname:this.translate.instant("SAILORS.PLACEHOLDER.LASTNAME"),placeholderFirstname:this.translate.instant("SAILORS.PLACEHOLDER.FIRSTNAME"),placeholderPhone:this.translate.instant("SAILORS.PLACEHOLDER.PHONE")},{value:t}=yield Ue.default.fire({title:e.title,html:`
        <div style="text-align: left; padding: 1rem;">
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">${e.lastname} *</label>
            <input id="swal-nom" class="swal2-input" placeholder="${e.placeholderLastname}" style="width: 90%;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">${e.firstname} *</label>
            <input id="swal-prenom" class="swal2-input" placeholder="${e.placeholderFirstname}" style="width: 90%;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">${e.function} *</label>
            <select id="swal-fonction" class="swal2-input" style="width: 90%;">
              <option value="">${e.selectFunction}</option>
              <option value="capitaine">${e.captain}</option>
              <option value="second">${e.second}</option>
              <option value="mecanicien">${e.mechanic}</option>
              <option value="matelot">${e.sailor}</option>
            </select>
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">${e.phone}</label>
            <input id="swal-phone" class="swal2-input" placeholder="${e.placeholderPhone}" style="width: 90%;">
          </div>
          
          <div style="margin-bottom: 1rem;">
            <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">${e.birthdate} *</label>
            <input id="swal-birthdate" type="date" class="swal2-input" style="width: 90%;">
          </div>
        </div>
      `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:e.add,cancelButtonText:e.cancel,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",width:"600px",preConfirm:()=>{let r=document.getElementById("swal-nom").value,p=document.getElementById("swal-prenom").value,g=document.getElementById("swal-fonction").value,M=document.getElementById("swal-phone").value,A=document.getElementById("swal-birthdate").value;return!r||!p||!g||!A?(Ue.default.showValidationMessage(e.requiredFields),!1):{nom:r,prenom:p,fonction:g,phone:M,birthdate:A}}});if(t)try{this.alertService.loading(this.translate.instant("MESSAGES.ADDING_SAILOR"));let r={nom:t.nom,prenom:t.prenom,fonction:t.fonction,telephone:t.phone||"",dateNaissance:new Date(t.birthdate),bateauId:this.sortie.bateauId,email:"",numeroPermis:"",dateEmbauche:new Date,adresse:"",statut:"actif"};yield this.marinService.addMarin(r),this.alertService.close();let p=this.translate.instant("MESSAGES.SAILOR_ADDED_SUCCESS",{name:`${t.prenom} ${t.nom}`});yield this.alertService.success(p),this.loadData()}catch(r){console.error("Erreur lors de l'ajout du marin:",r),this.alertService.close(),this.alertService.error("Erreur lors de l'ajout du marin")}})}get nombrePresents(){return this.pointages.filter(e=>e.present===!0).length}get nombreAbsents(){return this.marins.length-this.nombrePresents}isPresent(e){let t=this.pointages.find(r=>r.marinId===e);return t?t.present:!1}togglePresence(e,t){return C(this,null,function*(){let r=t.target.checked,p=this.pointages.find(g=>g.marinId===e);try{if(p&&p.id)yield this.pointageService.updatePointage(p.id,{present:r,datePointage:new Date}),p.present=r,p.datePointage=new Date;else{let g={sortieId:this.sortieId,marinId:e,present:r,datePointage:new Date},M=yield this.pointageService.addPointage(g);this.pointages.push(P(x({},g),{id:M.id}))}this.alertService.toast(r?"Pr\xE9sence enregistr\xE9e":"Absence enregistr\xE9e","success")}catch(g){console.error("\u274C Erreur lors du pointage:",g),this.alertService.error("Erreur lors de l'enregistrement du pointage")}})}getObservations(e){return this.pointages.find(r=>r.marinId===e)?.observations||""}updateObservations(e,t){return C(this,null,function*(){let r=this.pointages.find(p=>p.marinId===e);if(r&&r.id)try{yield this.pointageService.updatePointage(r.id,{observations:t}),r.observations=t,this.alertService.toast("Observations mises \xE0 jour","success")}catch(p){console.error("Erreur mise \xE0 jour observations:",p),this.alertService.error("Erreur lors de la mise \xE0 jour")}})}};Z.\u0275fac=function(t){return new(t||Z)(f(F),f(ot),f(Ge),f(L),f(k),f(tt))},Z.\u0275cmp=y({type:Z,selectors:[["app-pointage"]],decls:19,vars:16,consts:[[1,"pointage-container"],[1,"header"],[1,"btn-back",3,"routerLink"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"header-info"],[1,"title-row"],[1,"title"],["class","btn-add-crew",3,"click",4,"ngIf"],["class","sortie-info",4,"ngIf"],["class","loading-spinner",4,"ngIf"],["class","error-box",4,"ngIf"],["class","no-data",4,"ngIf"],["class","table-container",4,"ngIf"],["class","summary",4,"ngIf"],[1,"btn-add-crew",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"sortie-info"],[1,"sortie-destination"],["class","sortie-dates",4,"ngIf"],[1,"sortie-dates"],[1,"loading-spinner"],[1,"spinner"],[1,"error-box"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"error-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"no-data"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-data-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"btn-add-empty",3,"click"],[1,"table-container"],[1,"data-table"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"font-bold"],[1,"fonction-badge",3,"ngClass"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],["type","text",1,"obs-input",3,"blur","value","placeholder"],[1,"summary"],[1,"summary-card"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item","present"],[1,"summary-item","absent"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"a",2),_(),o(3,"svg",3),b(4,"path",4),i(),a(5),l(6,"translate"),i(),O(),o(7,"div",5)(8,"div",6)(9,"h1",7),a(10),l(11,"translate"),i(),h(12,Bt,5,3,"button",8),i(),h(13,Ft,4,2,"div",9),i()(),h(14,Nt,5,3,"div",10)(15,Lt,5,1,"div",11)(16,Vt,10,3,"div",12)(17,zt,21,16,"div",13)(18,Gt,20,12,"div",14),i()),t&2&&(n(2),m("routerLink",$(14,At,r.sortieId)),n(3),u(" ",c(6,10,"SAILORS.BACK")," "),n(5),d(c(11,12,"POINTAGE.TITLE")),n(2),m("ngIf",!r.loading&&r.sortie),n(),m("ngIf",r.sortie),n(),m("ngIf",r.loading),n(),m("ngIf",!r.loading&&r.errorMessage),n(),m("ngIf",!r.loading&&!r.errorMessage&&r.marins.length===0),n(),m("ngIf",!r.loading&&!r.errorMessage&&r.marins.length>0),n(),m("ngIf",!r.loading&&!r.errorMessage&&r.marins.length>0))},dependencies:[q,ce,B,R,X,Pe,xe,Oe,pe,T],styles:['@charset "UTF-8";.pointage-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:.75rem;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease;text-decoration:none;width:fit-content;align-self:flex-start;box-shadow:0 4px 6px #3b82f64d}.btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.btn-back[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb,#1d4ed8);transform:translate(-4px) translateY(-2px);box-shadow:0 6px 12px #3b82f666}.btn-back[_ngcontent-%COMP%]:active{transform:translate(-2px) translateY(0);box-shadow:0 2px 4px #3b82f64d}.header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap}.title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.sortie-info[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.9rem;color:#6b7280}.sortie-info[_ngcontent-%COMP%]   .sortie-destination[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem}.loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:1rem;border:4px solid #f3f4f6;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#9ca3af}.no-data[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;opacity:.5}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.error-box[_ngcontent-%COMP%]{background-color:#fee2e2;border:2px solid #ef4444;border-radius:.75rem;padding:2rem;text-align:center;color:#991b1b}.error-box[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;color:#dc2626}.error-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:1rem}.error-box[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;padding:1rem;margin-top:1rem;text-align:left;font-size:.875rem}.error-box[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-weight:400}.error-box[_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:600}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow-x:auto;margin-bottom:1.5rem}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#374151;border-bottom:2px solid #e5e7eb;white-space:nowrap}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.text-center[_ngcontent-%COMP%]{text-align:center}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;transition:background-color .2s}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;color:#6b7280}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.font-bold[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.text-center[_ngcontent-%COMP%]{text-align:center}.fonction-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:.375rem;font-size:.875rem;font-weight:600;text-transform:capitalize;white-space:nowrap}.fonction-capitaine[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.fonction-second[_ngcontent-%COMP%]{background-color:#e0e7ff;color:#3730a3}.fonction-mecanicien[_ngcontent-%COMP%]{background-color:#ccfbf1;color:#115e59}.fonction-matelot[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#6b21a8}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#10b981}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #10b981}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.switch[_ngcontent-%COMP%]   .slider.round[_ngcontent-%COMP%]{border-radius:34px}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.obs-input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;transition:all .2s}.obs-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.summary[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.summary-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1.5rem}.summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;border-radius:.5rem;background-color:#f9fafb}.summary-item.present[_ngcontent-%COMP%]{background-color:#d1fae5}.summary-item.present[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#065f46}.summary-item.absent[_ngcontent-%COMP%]{background-color:#fee2e2}.summary-item.absent[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#991b1b}.summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500;margin-bottom:.5rem}.summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937}.btn-add-crew[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#10b981;color:#fff;border:none;border-radius:.5rem;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;white-space:nowrap}.btn-add-crew[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.btn-add-crew[_ngcontent-%COMP%]:hover{background-color:#059669;transform:translateY(-2px);box-shadow:0 4px 6px #10b9814d}.btn-add-crew[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-add-empty[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .2s;margin-top:1rem}.btn-add-empty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.btn-add-empty[_ngcontent-%COMP%]:hover{background-color:#2563eb;transform:translateY(-2px);box-shadow:0 4px 6px #3b82f64d}@media (max-width: 768px){.pointage-container[_ngcontent-%COMP%]{padding:1rem}.title[_ngcontent-%COMP%]{font-size:1.5rem}.btn-back[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.9rem}.btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.sortie-info[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.data-table[_ngcontent-%COMP%]{font-size:.875rem}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}.switch[_ngcontent-%COMP%]{width:50px;height:28px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{height:20px;width:20px}.summary-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.title-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.btn-add-crew[_ngcontent-%COMP%]{width:100%;justify-content:center}}body.rtl[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right}body.rtl[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}body.rtl[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.text-center[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.text-center[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.text-center[_ngcontent-%COMP%]{text-align:center}body.rtl[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover, .rtl[_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover, .rtl   [_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{transform:translate(4px) translateY(-2px)}body.rtl[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:active, .rtl[_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]:active, .rtl   [_nghost-%COMP%]   .btn-back[_ngcontent-%COMP%]:active{transform:translate(2px) translateY(0)}']});var ie=Z;var Ht=[{path:"",component:Be},{path:"add",component:ne},{path:"edit/:id",component:ne},{path:"details/:id",component:ze},{path:"details/:id/depenses/add",component:J},{path:"details/:id/depenses/edit/:depenseId",component:J},{path:"details/:id/pointage",component:ie}],G=class G{};G.\u0275fac=function(t){return new(t||G)},G.\u0275mod=Ke({type:G}),G.\u0275inj=We({imports:[q,Me,Oe,Pe.forChild(Ht),X,J,ie]});var at=G;export{at as SortiesModule};
