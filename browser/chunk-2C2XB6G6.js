import{a as Oe,b as Pe}from"./chunk-PUX32Z7P.js";import{a as Q}from"./chunk-4ULTCYYX.js";import{h as Me,i as q,j as Ce,k as _e,l as de}from"./chunk-BEFTMFMP.js";import{a as Be}from"./chunk-TBOVXREA.js";import{a as Ie}from"./chunk-CWU3KASA.js";import{a as Ae}from"./chunk-ZPAT4MA6.js";import{a as Ee}from"./chunk-APWC47ED.js";import{a as De}from"./chunk-CJZKOTTU.js";import{a as X}from"./chunk-CKQYWLKT.js";import{a as Z,b as Ve}from"./chunk-IWNCJQQP.js";import{$ as N,$b as K,Ia as P,Na as w,Oa as U,R as $,Ra as _,S as G,V as C,Wb as Y,Xb as y,Yb as be,aa as R,ab as f,ba as u,bb as e,ca as v,cb as i,db as g,e as ze,eb as F,f as M,fb as k,gb as S,gc as J,hc as W,lb as ue,mb as le,nb as c,ob as d,pb as x,qb as ve,rc as xe,t as fe,u as se,wb as he,wc as Se,xc as we,ya as o,yb as m,yc as ke,zb as p,zc as ye}from"./chunk-CR22WOQI.js";function He(r,t){r&1&&(u(),e(0,"svg",10),g(1,"path",11),i())}function je(r,t){if(r&1){let n=F();e(0,"button",8),k("click",function(){let s=N(n).$implicit,l=S();return R(l.selectLanguage(s.code))}),e(1,"span",2),c(2),i(),e(3,"span",3),c(4),i(),_(5,He,2,0,"svg",9),i()}if(r&2){let n=t.$implicit,a=S();le("active",a.isCurrentLanguage(n.code)),o(2),d(n.flag),o(2),d(n.name),o(),f("ngIf",a.isCurrentLanguage(n.code))}}var z=class z{constructor(t){this.languageService=t;this.languages=[{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flag:"\u{1F1F9}\u{1F1F3}"},{code:"fr",name:"Fran\xE7ais",flag:"\u{1F1EB}\u{1F1F7}"},{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"}];this.isOpen=!1}getCurrentLanguage(){let t=this.languageService.getCurrentLanguage();return this.languages.find(n=>n.code===t)||this.languages[0]}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(t){this.languageService.setLanguage(t),this.isOpen=!1}isCurrentLanguage(t){return t===this.languageService.getCurrentLanguage()}};z.\u0275fac=function(n){return new(n||z)(P(Pe))},z.\u0275cmp=w({type:z,selectors:[["app-language-selector"]],standalone:!1,decls:10,vars:5,consts:[[1,"language-selector"],[1,"selector-button",3,"click"],[1,"flag"],[1,"language-name"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"chevron"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"dropdown-menu"],["class","language-option",3,"active","click",4,"ngFor","ngForOf"],[1,"language-option",3,"click"],["class","check-icon","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"check-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"button",1),k("click",function(){return a.toggleDropdown()}),e(2,"span",2),c(3),i(),e(4,"span",3),c(5),i(),u(),e(6,"svg",4),g(7,"path",5),i()(),v(),e(8,"div",6),_(9,je,6,5,"button",7),i()()),n&2&&(o(3),d(a.getCurrentLanguage().flag),o(2),d(a.getCurrentLanguage().name),o(3),le("show",a.isOpen),o(),f("ngForOf",a.languages))},dependencies:[Y,y],styles:[".language-selector[_ngcontent-%COMP%]{position:relative;display:inline-block}.selector-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;cursor:pointer;transition:all .2s ease;font-size:.875rem;white-space:nowrap}.selector-button[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.flag[_ngcontent-%COMP%]{font-size:1.25rem}.language-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.chevron[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280;transition:transform .2s}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a;display:none;z-index:1000;min-width:150px}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.language-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;padding:.75rem 1rem;border:none;background:none;cursor:pointer;text-align:left;transition:background-color .2s}.language-option[_ngcontent-%COMP%]:hover{background:#f9fafb}.language-option.active[_ngcontent-%COMP%]{background:#eff6ff}.language-option.active[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.language-option[_ngcontent-%COMP%]:first-child{border-radius:.5rem .5rem 0 0}.language-option[_ngcontent-%COMP%]:last-child{border-radius:0 0 .5rem .5rem}.check-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#2563eb;margin-left:auto}@media (max-width: 768px){.language-name[_ngcontent-%COMP%]{display:none}.selector-button[_ngcontent-%COMP%]{padding:.5rem}.chevron[_ngcontent-%COMP%]{display:none}}.rtl[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{right:auto;left:0}"]});var ee=z;var Ge=()=>({exact:!0});function Ue(r,t){r&1&&(e(0,"li")(1,"a",19),u(),e(2,"svg",5),g(3,"path",20),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()()()),r&2&&(o(5),d(p(6,1,"MENU.SORTIES")))}function Ye(r,t){r&1&&(e(0,"li")(1,"a",21),u(),e(2,"svg",5),g(3,"path",22),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()()()),r&2&&(o(5),d(p(6,1,"MENU.VENTES")))}function Ke(r,t){r&1&&(e(0,"li")(1,"a",23),u(),e(2,"svg",5),g(3,"path",24),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()()()),r&2&&(o(5),d(p(6,1,"MENU.AVANCES")))}function qe(r,t){r&1&&(e(0,"li")(1,"a",25),u(),e(2,"svg",5),g(3,"path",26),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()()()),r&2&&(o(5),d(p(6,1,"MENU.SALAIRES")))}function Je(r,t){r&1&&(e(0,"li",27)(1,"div",28),u(),e(2,"svg",5),g(3,"path",29),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()(),e(7,"div",30),c(8),m(9,"translate"),i()()),r&2&&(o(5),d(p(6,2,"MENU.SORTIES")),o(3),x(" ",p(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function We(r,t){r&1&&(e(0,"li",27)(1,"div",28),u(),e(2,"svg",5),g(3,"path",22),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()(),e(7,"div",30),c(8),m(9,"translate"),i()()),r&2&&(o(5),d(p(6,2,"MENU.VENTES")),o(3),x(" ",p(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function Ze(r,t){r&1&&(e(0,"li",27)(1,"div",28),u(),e(2,"svg",5),g(3,"path",24),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()(),e(7,"div",30),c(8),m(9,"translate"),i()()),r&2&&(o(5),d(p(6,2,"MENU.AVANCES")),o(3),x(" ",p(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function Qe(r,t){r&1&&(e(0,"li",27)(1,"div",28),u(),e(2,"svg",5),g(3,"path",26),i(),v(),e(4,"span"),c(5),m(6,"translate"),i()(),e(7,"div",30),c(8),m(9,"translate"),i()()),r&2&&(o(5),d(p(6,2,"MENU.SALAIRES")),o(3),x(" ",p(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function Xe(r,t){if(r&1){let n=F();e(0,"div",31),k("click",function(){N(n);let s=S();return R(s.goToBoatSelection())}),u(),e(1,"svg",32),g(2,"path",33),i(),v(),e(3,"div",34)(4,"span",35),c(5),m(6,"translate"),i(),e(7,"span",36),c(8),i(),e(9,"span",37),c(10),i()(),u(),e(11,"svg",38),g(12,"path",39),i()()}if(r&2){let n=S();o(5),d(p(6,3,"BOATS.SELECTED_BOAT")),o(3),d(n.selectedBoat.nom),o(2),x("(",n.selectedBoat.immatriculation,")")}}function et(r,t){if(r&1){let n=F();e(0,"div",40),k("click",function(){N(n);let s=S();return R(s.goToBoatSelection())}),u(),e(1,"svg",41),g(2,"path",42),i(),v(),e(3,"div",43)(4,"span",44),c(5),m(6,"translate"),i(),e(7,"span",45),c(8),m(9,"translate"),i()()()}r&2&&(o(5),d(p(6,2,"BOATS.NO_BOAT_SELECTED")),o(3),d(p(9,4,"BOATS.CLICK_TO_SELECT")))}var V=class V{constructor(t,n,a){this.authService=t;this.selectedBoatService=n;this.router=a;this.selectedBoat=null}ngOnInit(){return M(this,null,function*(){this.authService.user$.subscribe(t=>{t&&(this.userEmail=t.email||void 0)}),this.selectedBoatService.selectedBoat$.subscribe(t=>{this.selectedBoat=t})})}goToBoatSelection(){this.router.navigate(["/dashboard/bateaux"])}logout(){return M(this,null,function*(){try{yield this.authService.logout()}catch(t){console.error("Erreur logout",t)}})}};V.\u0275fac=function(n){return new(n||V)(P(Oe),P(Z),P(q))},V.\u0275cmp=w({type:V,selectors:[["app-dashboard"]],standalone:!1,decls:44,vars:21,consts:[[1,"dashboard-layout"],[1,"sidebar"],[1,"logo"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"nav-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/dashboard/bateaux","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[4,"ngIf"],["class","menu-disabled",4,"ngIf"],["routerLink","/dashboard/mock-data","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],[1,"main-content"],[1,"header"],[1,"boat-selector"],["class","selected-boat-badge",3,"click",4,"ngIf"],["class","no-boat-badge",3,"click",4,"ngIf"],[1,"content"],["routerLink","/dashboard/sorties","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["routerLink","/dashboard/ventes","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["routerLink","/dashboard/avances","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/dashboard/salaires","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],[1,"menu-disabled"],[1,"nav-item-disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"tooltip-disabled"],[1,"selected-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"boat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"boat-info"],[1,"boat-label"],[1,"boat-name"],[1,"boat-registration"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"change-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],[1,"no-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"warning-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"no-boat-info"],[1,"no-boat-label"],[1,"no-boat-action"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h2"),c(4,"LAMBARA"),i()(),e(5,"nav",3)(6,"ul")(7,"li")(8,"a",4),u(),e(9,"svg",5),g(10,"path",6),i(),v(),e(11,"span"),c(12),m(13,"translate"),i()()(),e(14,"li")(15,"a",7),u(),e(16,"svg",5),g(17,"path",8),i(),v(),e(18,"span"),c(19),m(20,"translate"),i()()(),_(21,Ue,7,3,"li",9)(22,Ye,7,3,"li",9)(23,Ke,7,3,"li",9)(24,qe,7,3,"li",9)(25,Je,10,6,"li",10)(26,We,10,6,"li",10)(27,Ze,10,6,"li",10)(28,Qe,10,6,"li",10),e(29,"li")(30,"a",11),u(),e(31,"svg",5),g(32,"path",12),i(),v(),e(33,"span"),c(34),m(35,"translate"),i()()()()()(),e(36,"main",13)(37,"header",14)(38,"div",15),_(39,Xe,13,5,"div",16)(40,et,10,6,"div",17),i(),g(41,"app-language-selector"),i(),e(42,"div",18),g(43,"router-outlet"),i()()()),n&2&&(o(8),f("routerLinkActiveOptions",he(20,Ge)),o(4),d(p(13,14,"MENU.HOME")),o(7),d(p(20,16,"MENU.BOATS")),o(2),f("ngIf",a.selectedBoat),o(),f("ngIf",a.selectedBoat),o(),f("ngIf",a.selectedBoat),o(),f("ngIf",a.selectedBoat),o(),f("ngIf",!a.selectedBoat),o(),f("ngIf",!a.selectedBoat),o(),f("ngIf",!a.selectedBoat),o(),f("ngIf",!a.selectedBoat),o(6),x("\u{1F3B2} ",p(35,18,"MENU.MOCK_DATA")),o(5),f("ngIf",a.selectedBoat),o(),f("ngIf",!a.selectedBoat))},dependencies:[y,Me,Ce,_e,ee,J],styles:['@charset "UTF-8";.dashboard-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f5f7fa}.sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(180deg,#1e3a8a,#1e40af);color:#fff;position:fixed;height:100vh;left:0;top:0;box-shadow:2px 0 8px #0000001a;z-index:1000;transition:all .3s ease;overflow-y:auto}.logo[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.25rem 0}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fffc;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background-color:#ffffff26;border-left-color:#60a5fa;color:#fff;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.sidebar-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.main-content[_ngcontent-%COMP%]{margin-left:260px;flex:1;display:flex;flex-direction:column;width:calc(100% - 260px);min-width:0;transition:margin .3s ease}.header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;box-shadow:0 1px 3px #0000001a;display:flex;justify-content:space-between;align-items:center;gap:1.5rem;position:sticky;top:0;z-index:900}.boat-selector[_ngcontent-%COMP%]{flex:1}.selected-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.75rem 1.25rem;border-radius:.75rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #10b98133}.selected-boat-badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #10b9814d}.selected-boat-badge[_ngcontent-%COMP%]   .boat-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.9;font-weight:500}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.selected-boat-badge[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;margin-left:auto;opacity:.8}.no-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:#fee2e2;color:#991b1b;padding:.75rem 1.25rem;border-radius:.75rem;border:2px solid #ef4444;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.02)}.no-boat-badge[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0;animation:_ngcontent-%COMP%_shake 1s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.85}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.content[_ngcontent-%COMP%]{padding:2rem;flex:1;width:100%;overflow-x:hidden}@media (max-width: 1024px){.sidebar[_ngcontent-%COMP%]{width:220px}.main-content[_ngcontent-%COMP%]{margin-left:220px;width:calc(100% - 220px)}.content[_ngcontent-%COMP%]{padding:1.5rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.9rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:260px}.main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}.header[_ngcontent-%COMP%]{padding:.75rem 1rem;flex-wrap:wrap}.boat-selector[_ngcontent-%COMP%]{width:100%;order:1;margin-top:.75rem}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.content[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.content[_ngcontent-%COMP%]{padding:.75rem}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{padding:.625rem 1rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.875rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.75rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.8125rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.6875rem}}body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{left:auto;right:0;box-shadow:-2px 0 8px #0000001a}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-left:none;border-right:3px solid transparent}body.rtl[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{border-right-color:#60a5fa}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:0;margin-right:260px}@media (max-width: 1024px){body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:220px}}@media (max-width: 768px){body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{transform:translate(100%)}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:0}}.menu-disabled[_ngcontent-%COMP%]{position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fff6;cursor:not-allowed;position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:auto}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:absolute;left:100%;top:50%;transform:translateY(-50%);background:#1f2937;color:#fff;padding:.5rem .75rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;margin-left:.5rem;opacity:0;visibility:hidden;transition:all .3s ease;box-shadow:0 4px 6px #0000004d;z-index:1001;pointer-events:none}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{content:"";position:absolute;right:100%;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:#1f2937}.menu-disabled[_ngcontent-%COMP%]:hover   .tooltip-disabled[_ngcontent-%COMP%]{opacity:1;visibility:visible}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{left:auto;right:100%;margin-left:0;margin-right:.5rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{right:auto;left:100%;border-right-color:transparent;border-left-color:#1f2937}@media (max-width: 768px){.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:fixed;inset:auto auto 20px 50%;transform:translate(-50%);margin-left:0}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{display:none}}.mock-data-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea99!important}.mock-data-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}']});var te=V;function it(r,t){if(r&1&&(e(0,"div",9)(1,"div",10)(2,"div",11),u(),e(3,"svg",12),g(4,"path",13),i()(),v(),e(5,"div",14)(6,"div",15),c(7),i(),e(8,"div",16),c(9),m(10,"translate"),i()()(),e(11,"div",17)(12,"div",11),u(),e(13,"svg",12),g(14,"path",18),i()(),v(),e(15,"div",14)(16,"div",15),c(17),i(),e(18,"div",16),c(19),m(20,"translate"),i()()(),e(21,"div",19)(22,"div",11),u(),e(23,"svg",12),g(24,"path",20),i()(),v(),e(25,"div",14)(26,"div",15),c(27),i(),e(28,"div",16),c(29),m(30,"translate"),i()()(),e(31,"div",21)(32,"div",11),u(),e(33,"svg",12),g(34,"path",22),i()(),v(),e(35,"div",14)(36,"div",15),c(37),i(),e(38,"div",16),c(39),m(40,"translate"),i()()()()),r&2){let n=t.ngIf;o(7),d(n.totalBoats),o(2),d(p(10,8,"DASHBOARD.TOTAL_BOATS")),o(8),d(n.activeBoats),o(2),d(p(20,10,"DASHBOARD.ACTIVE_BOATS")),o(8),d(n.maintenanceBoats),o(2),d(p(30,12,"DASHBOARD.MAINTENANCE")),o(8),d(n.totalSailors),o(2),d(p(40,14,"DASHBOARD.TOTAL_SAILORS"))}}function at(r,t){if(r&1&&(e(0,"div",26)(1,"div",27),c(2),i(),e(3,"div",28)(4,"div",29)(5,"span",30),c(6),i()(),e(7,"div",31),c(8),m(9,"translate"),i()(),e(10,"div",32),c(11),i()()),r&2){let n=t.$implicit,a=S(2);o(),ue("background-color",n.color+"20")("color",n.color),o(),x(" ",n.icon," "),o(4),d(n.name),o(2),x(" ",p(9,8,a.getActionText(n))," "),o(3),x(" ",a.getTimeAgo(n.date)," ")}}function ot(r,t){r&1&&(e(0,"div",33),u(),e(1,"svg",34),g(2,"path",35),i(),v(),e(3,"p"),c(4),m(5,"translate"),i()()),r&2&&(o(4),d(p(5,1,"DASHBOARD.NO_ACTIVITIES")))}function rt(r,t){if(r&1&&(e(0,"div",23),_(1,at,12,10,"div",24)(2,ot,6,3,"div",25),i()),r&2){let n=S();o(),f("ngForOf",n.recentActivities),o(),f("ngIf",n.recentActivities.length===0)}}function ct(r,t){r&1&&(e(0,"div",36),g(1,"div",37),e(2,"p"),c(3),m(4,"translate"),i()()),r&2&&(o(3),d(p(4,1,"MESSAGES.LOADING")))}var H=class H{constructor(t,n){this.bateauService=t;this.marinService=n;this.recentActivities=[];this.loading=!0}ngOnInit(){this.loadStats(),this.loadRecentActivities()}loadStats(){this.stats$=se([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).pipe(fe(([t,n])=>({totalBoats:t.length,activeBoats:t.filter(a=>a.statut==="actif").length,maintenanceBoats:t.filter(a=>a.statut==="maintenance").length,totalSailors:n.length,activeSailors:n.filter(a=>a.statut==="actif").length})))}toDate(t){return t?t instanceof Date?t:t.toDate&&typeof t.toDate=="function"?t.toDate():t.seconds?new Date(t.seconds*1e3):new Date(t):new Date(0)}loadRecentActivities(){se([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).subscribe(([t,n])=>{let a=[];t.sort((s,l)=>{let h=this.toDate(s.updatedAt||s.createdAt);return this.toDate(l.updatedAt||l.createdAt).getTime()-h.getTime()}).slice(0,5).forEach(s=>{let l=this.toDate(s.updatedAt||s.createdAt);a.push({type:"boat",action:s.updatedAt?"updated":"added",name:s.nom,date:l,icon:"\u{1F6A2}",color:"#3b82f6"})}),n.sort((s,l)=>{let h=this.toDate(s.updatedAt||s.createdAt);return this.toDate(l.updatedAt||l.createdAt).getTime()-h.getTime()}).slice(0,5).forEach(s=>{let l=this.toDate(s.updatedAt||s.createdAt);a.push({type:"sailor",action:s.updatedAt?"updated":"added",name:`${s.prenom} ${s.nom}`,date:l,icon:"\u{1F468}\u200D\u2708\uFE0F",color:"#059669"})}),this.recentActivities=a.sort((s,l)=>l.date.getTime()-s.date.getTime()).slice(0,10),this.loading=!1})}getActionText(t){return t.type==="boat"?t.action==="added"?"DASHBOARD.BOAT_ADDED":"DASHBOARD.BOAT_UPDATED":t.action==="added"?"DASHBOARD.SAILOR_ADDED":"DASHBOARD.SAILOR_UPDATED"}getTimeAgo(t){let a=new Date().getTime()-t.getTime(),s=Math.floor(a/6e4),l=Math.floor(a/36e5),h=Math.floor(a/864e5);return s<1?"\xC0 l'instant":s<60?`Il y a ${s} min`:l<24?`Il y a ${l}h`:`Il y a ${h}j`}};H.\u0275fac=function(n){return new(n||H)(P(Q),P(X))},H.\u0275cmp=w({type:H,selectors:[["app-dashboard-home"]],standalone:!1,decls:16,vars:15,consts:[[1,"dashboard-home"],[1,"welcome-title"],["class","stats-grid",4,"ngIf"],[1,"activities-section"],[1,"section-header"],[1,"section-title"],[1,"activity-count"],["class","activities-container",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","blue"],[1,"stat-icon"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","yellow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"stat-card","purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"activities-container"],["class","activity-item",4,"ngFor","ngForOf"],["class","no-activities",4,"ngIf"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-title"],[1,"activity-name"],[1,"activity-description"],[1,"activity-time"],[1,"no-activities"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-data-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"loading-spinner"],[1,"spinner"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"h2",1),c(2),m(3,"translate"),i(),_(4,it,41,16,"div",2),m(5,"async"),e(6,"div",3)(7,"div",4)(8,"h3",5),c(9),m(10,"translate"),i(),e(11,"span",6),c(12),m(13,"translate"),i()(),_(14,rt,3,2,"div",7)(15,ct,5,3,"div",8),i()()),n&2&&(o(2),d(p(3,7,"DASHBOARD.WELCOME")),o(2),f("ngIf",p(5,9,a.stats$)),o(5),d(p(10,11,"DASHBOARD.RECENT_ACTIVITIES")),o(3),ve("",a.recentActivities.length," ",p(13,13,"DASHBOARD.ACTIVITIES")),o(2),f("ngIf",!a.loading),o(),f("ngIf",a.loading))},dependencies:[Y,y,be,J],styles:['@charset "UTF-8";.dashboard-home[_ngcontent-%COMP%]{max-width:1400px;width:100%}.welcome-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:2rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;gap:1rem;transition:all .3s ease;border-left:4px solid}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #00000026;transform:translateY(-4px)}.stat-card.blue[_ngcontent-%COMP%]{border-color:#3b82f6}.stat-card.blue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#dbeafe;color:#3b82f6}.stat-card.green[_ngcontent-%COMP%]{border-color:#059669}.stat-card.green[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#d1fae5;color:#059669}.stat-card.yellow[_ngcontent-%COMP%]{border-color:#f59e0b}.stat-card.yellow[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#fef3c7;color:#f59e0b}.stat-card.purple[_ngcontent-%COMP%]{border-color:#9333ea}.stat-card.purple[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#e9d5ff;color:#9333ea}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;line-height:1;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.activities-section[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin:0}.activity-count[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;background-color:#f3f4f6;padding:.25rem .75rem;border-radius:9999px;font-weight:500}.activities-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f3f4f6;display:flex;align-items:center;gap:1rem;transition:background-color .2s}.activity-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.activity-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0}.activity-content[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.activity-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.9375rem}.activity-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;white-space:nowrap;flex-shrink:0}.no-activities[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#9ca3af}.no-data-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;opacity:.5}.loading-spinner[_ngcontent-%COMP%]{padding:3rem;text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 1rem;border:4px solid #f3f4f6;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.activity-item[_ngcontent-%COMP%]{padding:1rem}.activity-time[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-width: 480px){.welcome-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.stats-grid[_ngcontent-%COMP%]{margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8125rem}}']});var ne=H;var I=class I{constructor(t,n){this.selectedBoatService=t;this.router=n}canActivate(t,n){return this.selectedBoatService.hasSelectedBoat()?!0:(this.router.navigate(["/dashboard/bateaux"]),!1)}};I.\u0275fac=function(n){return new(n||I)(C(Z),C(q))},I.\u0275prov=$({token:I,factory:I.\u0275fac,providedIn:"root"});var A=I;var B=ze(Ve());var D=class D{constructor(t,n,a,s,l,h,O,b){this.firestore=t;this.bateauService=n;this.marinService=a;this.sortieService=s;this.depenseService=l;this.factureService=h;this.avanceService=O;this.paiementService=b}clearAllData(){return M(this,null,function*(){console.log("\u{1F5D1}\uFE0F Suppression de toutes les donn\xE9es...");let t=["paiements","avances","factures","depenses","sorties","marins","bateaux"];for(let n of t){let a=Se(this.firestore,n),s=yield ye(a),l=s.docs.map(h=>we(ke(this.firestore,n,h.id)));yield Promise.all(l),console.log(`\u2705 ${n}: ${s.size} supprim\xE9s`)}})}generateAllMockData(){return M(this,null,function*(){yield this.clearAllData(),console.log("\u{1F3B2} G\xE9n\xE9ration des donn\xE9es fictives...");let t=yield this.generateBateaux(),n=yield this.generateMarins(t),a=yield this.generateSorties(t);yield this.generateDepenses(a),yield this.generateFactures(a),yield this.generateAvances(n),yield this.generatePaiements(n),console.log("\u2705 Donn\xE9es g\xE9n\xE9r\xE9es avec succ\xE8s!")})}generateBateaux(){return M(this,null,function*(){let t=[{nom:"Le Pos\xE9idon",immatriculation:"TN-SF-001",puissance:350,typeMoteur:"Diesel Volvo Penta",longueur:18.5,capaciteEquipage:12,dateConstruction:new Date("2015-06-15"),portAttache:"Port de Sfax",statut:"actif"},{nom:"Neptune III",immatriculation:"TN-SF-002",puissance:420,typeMoteur:"Diesel Caterpillar",longueur:22,capaciteEquipage:15,dateConstruction:new Date("2018-03-20"),portAttache:"Port de Sfax",statut:"actif"}],n=[];for(let a of t){let s=yield this.bateauService.addBateau(a);n.push(s),console.log(`\u2705 Bateau: ${a.nom} (ID: ${s})`)}return n})}generateMarins(t){return M(this,null,function*(){let n=[[{prenom:"Mohamed",nom:"Ben Ali",fonction:"capitaine"},{prenom:"Ahmed",nom:"Trabelsi",fonction:"mecanicien"},{prenom:"Karim",nom:"Hamdi",fonction:"matelot"}],[{prenom:"Hichem",nom:"Jebali",fonction:"capitaine"},{prenom:"Nabil",nom:"Bouazizi",fonction:"mecanicien"},{prenom:"Riadh",nom:"Mansour",fonction:"matelot"}]],a=[];for(let s=0;s<t.length;s++){let l=t[s],h=n[s],O=[];for(let b of h){let re=yield this.marinService.addMarin({prenom:b.prenom,nom:b.nom,fonction:b.fonction,bateauId:l,telephone:`+216 98 ${Math.floor(Math.random()*1e6).toString().padStart(6,"0")}`,email:`${b.prenom.toLowerCase()}.${b.nom.toLowerCase()}@example.com`,adresse:"Avenue Habib Bourguiba, Sfax",dateNaissance:new Date(1980,5,15),dateEmbauche:new Date(2018,0,1),numeroPermis:`PM-${Math.random().toString(36).substr(2,9).toUpperCase()}`,statut:"actif"});O.push(re),console.log(`\u2705 Marin: ${b.prenom} ${b.nom} (${b.fonction}) pour bateau ${l}`)}a.push({bateauId:l,marinIds:O})}return a})}generateSorties(t){return M(this,null,function*(){let n=[],a=["Lampedusa","Kerkennah","Djerba","Gab\xE8s","Zarzis"],s=new Date;for(let l of t)for(let h=0;h<5;h++){let O=(h+1)*7,b=new Date(s.getTime()-O*24*60*60*1e3),re=4,Le=new Date(b.getTime()+re*24*60*60*1e3),ce;h===0?ce="en-cours":ce="terminee";let ge=yield this.sortieService.addSortie({bateauId:l,destination:a[h],dateDepart:b,dateRetour:Le,statut:ce});n.push(ge),console.log(`\u2705 Sortie: ${a[h]} pour bateau ${l} (ID: ${ge})`)}return n})}generateDepenses(t){return M(this,null,function*(){let n=["fuel","ice","food","oil_change","crew_cnss"];for(let a of t)for(let s=0;s<2;s++){let l=n[Math.floor(Math.random()*n.length)],h=100+Math.random()*400,O=Math.floor(Math.random()*10),b=new Date(Date.now()-O*24*60*60*1e3);yield this.depenseService.addDepense({sortieId:a,type:l,montant:Math.round(h*100)/100,date:b,description:`D\xE9pense de ${l.replace("_"," ")}`})}console.log("\u2705 D\xE9penses cr\xE9\xE9es")})}generateFactures(t){return M(this,null,function*(){for(let n of t){let a=2e3+Math.random()*3e3,s=Math.floor(Math.random()*10),l=new Date(Date.now()-s*24*60*60*1e3);yield this.factureService.addFacture({sortieId:n,numeroFacture:`F-${Date.now()}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,client:"March\xE9 Central",dateVente:l,montantTotal:Math.round(a*100)/100,details:"Vente de poissons"})}console.log("\u2705 Factures cr\xE9\xE9es")})}generateAvances(t){return M(this,null,function*(){for(let{bateauId:n,marinIds:a}of t)for(let s of a)for(let l=0;l<2;l++){let h=200+l*100,O=(l+1)*15,b=new Date(Date.now()-O*24*60*1e3);yield this.avanceService.addAvance({bateauId:n,marinId:s,montant:h,dateAvance:b,description:`Avance ${l+1}`})}console.log("\u2705 Avances cr\xE9\xE9es")})}generatePaiements(t){return M(this,null,function*(){for(let{marinIds:n}of t)for(let a of n){let l=new Date(Date.now()-2592e6);yield this.paiementService.addPaiement({marinId:a,montant:500,datePaiement:l,sortiesIds:[]})}console.log("\u2705 Paiements cr\xE9\xE9s")})}};D.\u0275fac=function(n){return new(n||D)(C(xe),C(Q),C(X),C(Ee),C(Ie),C(Ae),C(De),C(Be))},D.\u0275prov=$({token:D,factory:D.\u0275fac,providedIn:"root"});var ie=D;function lt(r,t){r&1&&(e(0,"span"),c(1,"G\xE9n\xE9rer les donn\xE9es"),i())}function dt(r,t){r&1&&(e(0,"span"),c(1,"G\xE9n\xE9ration en cours..."),i())}var j=class j{constructor(t){this.mockService=t;this.generating=!1}generate(){return M(this,null,function*(){if((yield B.default.fire({title:"G\xE9n\xE9rer des donn\xE9es fictives ?",text:"Cela va cr\xE9er environ 35 enregistrements de test",icon:"question",showCancelButton:!0,confirmButtonText:"Oui, g\xE9n\xE9rer",cancelButtonText:"Annuler",confirmButtonColor:"#667eea"})).isConfirmed)try{this.generating=!0,B.default.fire({title:"G\xE9n\xE9ration en cours...",text:"Veuillez patienter",allowOutsideClick:!1,didOpen:()=>B.default.showLoading()}),yield this.mockService.generateAllMockData(),B.default.close(),yield B.default.fire({title:"Succ\xE8s !",text:"Les donn\xE9es ont \xE9t\xE9 g\xE9n\xE9r\xE9es avec succ\xE8s",icon:"success",confirmButtonColor:"#667eea"})}catch(n){console.error(n),B.default.fire({title:"Erreur",text:"Une erreur est survenue",icon:"error"})}finally{this.generating=!1}})}};j.\u0275fac=function(n){return new(n||j)(P(ie))},j.\u0275cmp=w({type:j,selectors:[["app-mock-data"]],standalone:!1,decls:22,vars:3,consts:[[1,"mock-container"],[1,"mock-card"],[1,"data-list"],[1,"data-item"],[1,"btn-generate",3,"click","disabled"],[4,"ngIf"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),c(3,"\u{1F3B2} G\xE9n\xE9rateur de Donn\xE9es Fictives"),i(),e(4,"p"),c(5,"Cr\xE9ez rapidement des donn\xE9es de test compl\xE8tes"),i(),e(6,"div",2)(7,"div",3),c(8,"\u2713 2 bateaux de p\xEAche"),i(),e(9,"div",3),c(10,"\u2713 5 marins"),i(),e(11,"div",3),c(12,"\u2713 6 sorties en mer"),i(),e(13,"div",3),c(14,"\u2713 12 d\xE9penses"),i(),e(15,"div",3),c(16,"\u2713 6 factures de vente"),i(),e(17,"div",3),c(18,"\u2713 5 avances"),i()(),e(19,"button",4),k("click",function(){return a.generate()}),_(20,lt,2,0,"span",5)(21,dt,2,0,"span",5),i()()()),n&2&&(o(19),f("disabled",a.generating),o(),f("ngIf",!a.generating),o(),f("ngIf",a.generating))},dependencies:[y],styles:[".mock-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(135deg,#667eea,#764ba2)}.mock-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:3rem;max-width:500px;box-shadow:0 20px 60px #0000004d}h2[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1f2937;font-size:2rem}p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 2rem}.data-list[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:.5rem;margin-bottom:2rem}.data-item[_ngcontent-%COMP%]{padding:.5rem 0;color:#374151;font-weight:500}.btn-generate[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#667eea;color:#fff;border:none;border-radius:.5rem;font-size:1.125rem;font-weight:600;cursor:pointer;transition:all .3s}.btn-generate[_ngcontent-%COMP%]:hover:not(:disabled){background:#5568d3;transform:translateY(-2px);box-shadow:0 10px 20px #667eea4d}.btn-generate[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]});var ae=j;var mt=[{path:"",component:te,children:[{path:"",component:ne},{path:"bateaux",loadChildren:()=>import("./chunk-X2ZVZ3L3.js").then(r=>r.BateauxModule)},{path:"sorties",loadChildren:()=>import("./chunk-2H27BUF5.js").then(r=>r.SortiesModule),canActivate:[A]},{path:"ventes",loadComponent:()=>import("./chunk-4BJTL5SI.js").then(r=>r.VentesListComponent),canActivate:[A]},{path:"avances",loadComponent:()=>import("./chunk-ITWE7BP5.js").then(r=>r.AvancesComponent),canActivate:[A]},{path:"salaires",loadComponent:()=>import("./chunk-OWFYRY3A.js").then(r=>r.SalairesListComponent),canActivate:[A]},{path:"mock-data",component:ae},{path:"",redirectTo:"",pathMatch:"full"}]}],T=class T{};T.\u0275fac=function(n){return new(n||T)},T.\u0275mod=U({type:T}),T.\u0275inj=G({imports:[K,de.forChild(mt),W,de]});var oe=T;var L=class L{};L.\u0275fac=function(n){return new(n||L)},L.\u0275mod=U({type:L}),L.\u0275inj=G({imports:[K,oe,W]});var Te=L;export{Te as DashboardModule};
