<div class="form-container">
  <div class="form-header">
    <button class="btn-back" (click)="cancel()">
      <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
      </svg>
      {{ 'SAILORS.BACK' | translate }}
    </button>
    <h1 class="form-title">{{ (isEditMode ? 'SORTIES.EDIT' : 'SORTIES.ADD') | translate }}</h1>
  </div>

  <div class="selected-boat-info" *ngIf="selectedBoat">
    <div class="boat-badge">
      <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
      </svg>
      <span>
        {{ 'BOATS.BOAT' | translate }}: <strong>{{ selectedBoat.nom }}</strong> ({{ selectedBoat.immatriculation }})
      </span>
    </div>
  </div>

  <form (ngSubmit)="onSubmit()" class="form">
    <div class="form-grid">
      <div class="form-group">
        <label class="form-label">{{ 'SORTIES.DESTINATION' | translate }}</label>
        <input type="text" [(ngModel)]="sortie.destination" name="destination" class="form-input" required>
      </div>

      <div class="form-group">
        <label class="form-label">{{ 'SORTIES.DATEDEPART' | translate }}</label>
        <input type="date" [(ngModel)]="sortie.dateDepart" name="dateDepart" class="form-input" required>
      </div>

      <div class="form-group">
        <label class="form-label">{{ 'SORTIES.DATERETOUR' | translate }}</label>
        <input type="date" [(ngModel)]="sortie.dateRetour" name="dateRetour" class="form-input">
      </div>

      <div class="form-group">
        <label class="form-label">{{ 'SORTIES.STATUT' | translate }}</label>
        <select [(ngModel)]="sortie.statut" name="statut" class="form-input">
          <option value="en_cours">{{ 'SORTIES.STATUS.ONGOING' | translate }}</option>
          <option value="terminee">{{ 'SORTIES.STATUS.COMPLETED' | translate }}</option>
          <option value="annulee">{{ 'SORTIES.STATUS.CANCELLED' | translate }}</option>
        </select>
      </div>

      <div class="form-group full-width">
        <label class="form-label">{{ 'COMMON.DESCRIPTION' | translate }}</label>
        <textarea [(ngModel)]="sortie.notes" name="notes" class="form-input" rows="3"></textarea>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" (click)="cancel()" class="btn btn-secondary" [disabled]="loading">
        {{ 'FORM.CANCEL' | translate }}
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        <span *ngIf="loading">{{ 'MESSAGES.SAVING' | translate }}...</span>
        <span *ngIf="!loading">{{ (isEditMode ? 'FORM.EDIT' : 'FORM.SAVE') | translate }}</span>
      </button>
    </div>
  </form>
</div>
