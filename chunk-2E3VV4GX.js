import{a as ke,b as ye}from"./chunk-SFHJGJWN.js";import{a as ee}from"./chunk-3VSKC62Q.js";import{g as Pe,h as J,i as Se,j as we,k as me}from"./chunk-2KTYZ67X.js";import{a as Le,c as Ne}from"./chunk-MYMIL53V.js";import{a as te}from"./chunk-S4VOV2ZB.js";import"./chunk-ATU6D4XS.js";import{a as Q}from"./chunk-3BHKDQAO.js";import{a as ze}from"./chunk-MYU4GBB5.js";import{$ as F,$b as X,Ac as Be,Ia as C,Na as w,Oa as q,R as K,Ra as _,S as Y,V as P,Wb as Z,Xb as k,Yb as Oe,aa as G,ab as u,ba as M,bb as e,ca as h,cb as i,db as g,e as Ve,eb as $,f as v,fb as A,fc as Ae,gb as O,gc as R,hc as W,lb as Ce,mb as de,nb as s,ob as l,pb as b,qb as _e,sc as Ee,t as ve,u as le,wb as be,wc as Te,xb as xe,xc as pe,ya as o,yb as d,yc as Ie,zb as m,zc as De}from"./chunk-O6FOITNJ.js";function je(r,n){r&1&&(M(),e(0,"svg",10),g(1,"path",11),i())}function Fe(r,n){if(r&1){let t=$();e(0,"button",8),A("click",function(){let c=F(t).$implicit,p=O();return G(p.selectLanguage(c.code))}),e(1,"span",2),s(2),i(),e(3,"span",3),s(4),i(),_(5,je,2,0,"svg",9),i()}if(r&2){let t=n.$implicit,a=O();de("active",a.isCurrentLanguage(t.code)),o(2),l(t.flag),o(2),l(t.name),o(),u("ngIf",a.isCurrentLanguage(t.code))}}var H=class H{constructor(n){this.languageService=n;this.languages=[{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flag:"\u{1F1F9}\u{1F1F3}"},{code:"fr",name:"Fran\xE7ais",flag:"\u{1F1EB}\u{1F1F7}"},{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"}];this.isOpen=!1}getCurrentLanguage(){let n=this.languageService.getCurrentLanguage();return this.languages.find(t=>t.code===n)||this.languages[0]}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(n){this.languageService.setLanguage(n),this.isOpen=!1}isCurrentLanguage(n){return n===this.languageService.getCurrentLanguage()}};H.\u0275fac=function(t){return new(t||H)(C(ye))},H.\u0275cmp=w({type:H,selectors:[["app-language-selector"]],standalone:!1,decls:10,vars:5,consts:[[1,"language-selector"],[1,"selector-button",3,"click"],[1,"flag"],[1,"language-name"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"chevron"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"dropdown-menu"],["class","language-option",3,"active","click",4,"ngFor","ngForOf"],[1,"language-option",3,"click"],["class","check-icon","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"check-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"button",1),A("click",function(){return a.toggleDropdown()}),e(2,"span",2),s(3),i(),e(4,"span",3),s(5),i(),M(),e(6,"svg",4),g(7,"path",5),i()(),h(),e(8,"div",6),_(9,Fe,6,5,"button",7),i()()),t&2&&(o(3),l(a.getCurrentLanguage().flag),o(2),l(a.getCurrentLanguage().name),o(3),de("show",a.isOpen),o(),u("ngForOf",a.languages))},dependencies:[Z,k],styles:[".language-selector[_ngcontent-%COMP%]{position:relative;display:inline-block}.selector-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;cursor:pointer;transition:all .2s ease;font-size:.875rem;white-space:nowrap}.selector-button[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.flag[_ngcontent-%COMP%]{font-size:1.25rem}.language-name[_ngcontent-%COMP%]{font-weight:500;color:#374151}.chevron[_ngcontent-%COMP%]{width:16px;height:16px;color:#6b7280;transition:transform .2s}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 10px 15px -3px #0000001a;display:none;z-index:1000;min-width:150px}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.language-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;width:100%;padding:.75rem 1rem;border:none;background:none;cursor:pointer;text-align:left;transition:background-color .2s}.language-option[_ngcontent-%COMP%]:hover{background:#f9fafb}.language-option.active[_ngcontent-%COMP%]{background:#eff6ff}.language-option.active[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%]{color:#2563eb;font-weight:600}.language-option[_ngcontent-%COMP%]:first-child{border-radius:.5rem .5rem 0 0}.language-option[_ngcontent-%COMP%]:last-child{border-radius:0 0 .5rem .5rem}.check-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:#2563eb;margin-left:auto}@media (max-width: 768px){.language-name[_ngcontent-%COMP%]{display:none}.selector-button[_ngcontent-%COMP%]{padding:.5rem}.chevron[_ngcontent-%COMP%]{display:none}}.rtl[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{right:auto;left:0}"]});var ne=H;var Ke=()=>({exact:!0}),Ye=r=>["/dashboard/bateaux",r,"marins"];function qe(r,n){if(r&1&&(e(0,"li")(1,"a",19),M(),e(2,"svg",5),g(3,"path",20),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()()()),r&2){let t=O();o(),u("routerLink",xe(4,Ye,t.selectedBoat.id)),o(4),l(m(6,2,"MENU.SAILORS"))}}function Ze(r,n){r&1&&(e(0,"li",21)(1,"div",22),M(),e(2,"svg",5),g(3,"path",20),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()(),e(7,"div",23),s(8),d(9,"translate"),i()()),r&2&&(o(5),l(m(6,2,"MENU.SAILORS")),o(3),b(" ",m(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function Xe(r,n){r&1&&(e(0,"li")(1,"a",24),M(),e(2,"svg",5),g(3,"path",25),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()()()),r&2&&(o(5),l(m(6,1,"MENU.SORTIES")))}function Je(r,n){r&1&&(e(0,"li")(1,"a",26),M(),e(2,"svg",5),g(3,"path",27),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()()()),r&2&&(o(5),l(m(6,1,"MENU.VENTES")))}function We(r,n){r&1&&(e(0,"li")(1,"a",28),M(),e(2,"svg",5),g(3,"path",29),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()()()),r&2&&(o(5),l(m(6,1,"MENU.AVANCES")))}function Qe(r,n){r&1&&(e(0,"li")(1,"a",30),M(),e(2,"svg",5),g(3,"path",31),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()()()),r&2&&(o(5),l(m(6,1,"MENU.SALAIRES")))}function et(r,n){r&1&&(e(0,"li",21)(1,"div",22),M(),e(2,"svg",5),g(3,"path",32),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()(),e(7,"div",23),s(8),d(9,"translate"),i()()),r&2&&(o(5),l(m(6,2,"MENU.SORTIES")),o(3),b(" ",m(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function tt(r,n){r&1&&(e(0,"li",21)(1,"div",22),M(),e(2,"svg",5),g(3,"path",27),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()(),e(7,"div",23),s(8),d(9,"translate"),i()()),r&2&&(o(5),l(m(6,2,"MENU.VENTES")),o(3),b(" ",m(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function nt(r,n){r&1&&(e(0,"li",21)(1,"div",22),M(),e(2,"svg",5),g(3,"path",29),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()(),e(7,"div",23),s(8),d(9,"translate"),i()()),r&2&&(o(5),l(m(6,2,"MENU.AVANCES")),o(3),b(" ",m(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function it(r,n){r&1&&(e(0,"li",21)(1,"div",22),M(),e(2,"svg",5),g(3,"path",31),i(),h(),e(4,"span"),s(5),d(6,"translate"),i()(),e(7,"div",23),s(8),d(9,"translate"),i()()),r&2&&(o(5),l(m(6,2,"MENU.SALAIRES")),o(3),b(" ",m(9,4,"MENU.SELECT_BOAT_FIRST")," "))}function at(r,n){if(r&1){let t=$();e(0,"div",33),A("click",function(){F(t);let c=O();return G(c.goToBoatSelection())}),M(),e(1,"svg",34),g(2,"path",35),i(),h(),e(3,"div",36)(4,"span",37),s(5),d(6,"translate"),i(),e(7,"span",38),s(8),i(),e(9,"span",39),s(10),i()(),M(),e(11,"svg",40),g(12,"path",41),i()()}if(r&2){let t=O();o(5),l(m(6,3,"BOATS.SELECTED_BOAT")),o(3),l(t.selectedBoat.nom),o(2),b("(",t.selectedBoat.immatriculation,")")}}function ot(r,n){if(r&1){let t=$();e(0,"div",42),A("click",function(){F(t);let c=O();return G(c.goToBoatSelection())}),M(),e(1,"svg",43),g(2,"path",44),i(),h(),e(3,"div",45)(4,"span",46),s(5),d(6,"translate"),i(),e(7,"span",47),s(8),d(9,"translate"),i()()()}r&2&&(o(5),l(m(6,2,"BOATS.NO_BOAT_SELECTED")),o(3),l(m(9,4,"BOATS.CLICK_TO_SELECT")))}var V=class V{constructor(n,t,a){this.authService=n;this.selectedBoatService=t;this.router=a;this.selectedBoat=null}ngOnInit(){return v(this,null,function*(){this.authService.user$.subscribe(n=>{n&&(this.userEmail=n.email||void 0)}),this.selectedBoatService.selectedBoat$.subscribe(n=>{this.selectedBoat=n})})}goToBoatSelection(){this.router.navigate(["/dashboard/bateaux"])}logout(){return v(this,null,function*(){try{yield this.authService.logout()}catch(n){console.error("Erreur logout",n)}})}};V.\u0275fac=function(t){return new(t||V)(C(ke),C(Q),C(J))},V.\u0275cmp=w({type:V,selectors:[["app-dashboard"]],standalone:!1,decls:46,vars:23,consts:[[1,"dashboard-layout"],[1,"sidebar"],[1,"logo"],[1,"sidebar-nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"nav-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/dashboard/bateaux","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[4,"ngIf"],["class","menu-disabled",4,"ngIf"],["routerLink","/dashboard/mock-data","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],[1,"main-content"],[1,"header"],[1,"boat-selector"],["class","selected-boat-badge",3,"click",4,"ngIf"],["class","no-boat-badge",3,"click",4,"ngIf"],[1,"content"],["routerLinkActive","active",1,"nav-item",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"menu-disabled"],[1,"nav-item-disabled"],[1,"tooltip-disabled"],["routerLink","/dashboard/sorties","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["routerLink","/dashboard/ventes","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["routerLink","/dashboard/avances","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["routerLink","/dashboard/salaires","routerLinkActive","active",1,"nav-item"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"selected-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"boat-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"boat-info"],[1,"boat-label"],[1,"boat-name"],[1,"boat-registration"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"change-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"],[1,"no-boat-badge",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"warning-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"no-boat-info"],[1,"no-boat-label"],[1,"no-boat-action"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h2"),s(4,"LAMBARA"),i()(),e(5,"nav",3)(6,"ul")(7,"li")(8,"a",4),M(),e(9,"svg",5),g(10,"path",6),i(),h(),e(11,"span"),s(12),d(13,"translate"),i()()(),e(14,"li")(15,"a",7),M(),e(16,"svg",5),g(17,"path",8),i(),h(),e(18,"span"),s(19),d(20,"translate"),i()()(),_(21,qe,7,6,"li",9)(22,Ze,10,6,"li",10)(23,Xe,7,3,"li",9)(24,Je,7,3,"li",9)(25,We,7,3,"li",9)(26,Qe,7,3,"li",9)(27,et,10,6,"li",10)(28,tt,10,6,"li",10)(29,nt,10,6,"li",10)(30,it,10,6,"li",10),e(31,"li")(32,"a",11),M(),e(33,"svg",5),g(34,"path",12),i(),h(),e(35,"span"),s(36),d(37,"translate"),i()()()()()(),e(38,"main",13)(39,"header",14)(40,"div",15),_(41,at,13,5,"div",16)(42,ot,10,6,"div",17),i(),g(43,"app-language-selector"),i(),e(44,"div",18),g(45,"router-outlet"),i()()()),t&2&&(o(8),u("routerLinkActiveOptions",be(22,Ke)),o(4),l(m(13,16,"MENU.HOME")),o(7),l(m(20,18,"MENU.BOATS")),o(2),u("ngIf",a.selectedBoat),o(),u("ngIf",!a.selectedBoat),o(),u("ngIf",a.selectedBoat),o(),u("ngIf",a.selectedBoat),o(),u("ngIf",a.selectedBoat),o(),u("ngIf",a.selectedBoat),o(),u("ngIf",!a.selectedBoat),o(),u("ngIf",!a.selectedBoat),o(),u("ngIf",!a.selectedBoat),o(),u("ngIf",!a.selectedBoat),o(6),b("\u{1F3B2} ",m(37,20,"MENU.MOCK_DATA")),o(5),u("ngIf",a.selectedBoat),o(),u("ngIf",!a.selectedBoat))},dependencies:[k,Pe,Se,we,ne,R],styles:['@charset "UTF-8";.dashboard-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f5f7fa}.sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(180deg,#1e3a8a,#1e40af);color:#fff;position:fixed;height:100vh;left:0;top:0;box-shadow:2px 0 8px #0000001a;z-index:1000;transition:all .3s ease;overflow-y:auto}.logo[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem 0}.sidebar-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.25rem 0}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fffc;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background-color:#ffffff26;border-left-color:#60a5fa;color:#fff;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.sidebar-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.main-content[_ngcontent-%COMP%]{margin-left:260px;flex:1;display:flex;flex-direction:column;width:calc(100% - 260px);min-width:0;transition:margin .3s ease}.header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;box-shadow:0 1px 3px #0000001a;display:flex;justify-content:space-between;align-items:center;gap:1.5rem;position:sticky;top:0;z-index:900}.boat-selector[_ngcontent-%COMP%]{flex:1}.selected-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:.75rem 1.25rem;border-radius:.75rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #10b98133}.selected-boat-badge[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #10b9814d}.selected-boat-badge[_ngcontent-%COMP%]   .boat-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.9;font-weight:500}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.selected-boat-badge[_ngcontent-%COMP%]   .boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9}.selected-boat-badge[_ngcontent-%COMP%]   .change-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;margin-left:auto;opacity:.8}.no-boat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;background:#fee2e2;color:#991b1b;padding:.75rem 1.25rem;border-radius:.75rem;border:2px solid #ef4444;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.02)}.no-boat-badge[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0;animation:_ngcontent-%COMP%_shake 1s ease-in-out infinite}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700}.no-boat-badge[_ngcontent-%COMP%]   .no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.85}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:rotate(0)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}.content[_ngcontent-%COMP%]{padding:2rem;flex:1;width:100%;overflow-x:hidden}@media (max-width: 1024px){.sidebar[_ngcontent-%COMP%]{width:220px}.main-content[_ngcontent-%COMP%]{margin-left:220px;width:calc(100% - 220px)}.content[_ngcontent-%COMP%]{padding:1.5rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.9rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:260px}.main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}.header[_ngcontent-%COMP%]{padding:.75rem 1rem;flex-wrap:wrap}.boat-selector[_ngcontent-%COMP%]{width:100%;order:1;margin-top:.75rem}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.content[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.content[_ngcontent-%COMP%]{padding:.75rem}.selected-boat-badge[_ngcontent-%COMP%], .no-boat-badge[_ngcontent-%COMP%]{padding:.625rem 1rem}.boat-info[_ngcontent-%COMP%]   .boat-name[_ngcontent-%COMP%]{font-size:.875rem}.boat-info[_ngcontent-%COMP%]   .boat-registration[_ngcontent-%COMP%]{font-size:.75rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-label[_ngcontent-%COMP%]{font-size:.8125rem}.no-boat-info[_ngcontent-%COMP%]   .no-boat-action[_ngcontent-%COMP%]{font-size:.6875rem}}body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{left:auto;right:0;box-shadow:-2px 0 8px #0000001a}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-left:none;border-right:3px solid transparent}body.rtl[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{border-right-color:#60a5fa}body.rtl[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:0;margin-right:260px}@media (max-width: 1024px){body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:220px}}@media (max-width: 768px){body.rtl[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{transform:translate(100%)}body.rtl[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-right:0}}.menu-disabled[_ngcontent-%COMP%]{position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.875rem 1.5rem;color:#fff6;cursor:not-allowed;position:relative}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.75rem;font-weight:500}.menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:auto}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:absolute;left:100%;top:50%;transform:translateY(-50%);background:#1f2937;color:#fff;padding:.5rem .75rem;border-radius:.375rem;font-size:.875rem;white-space:nowrap;margin-left:.5rem;opacity:0;visibility:hidden;transition:all .3s ease;box-shadow:0 4px 6px #0000004d;z-index:1001;pointer-events:none}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{content:"";position:absolute;right:100%;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:#1f2937}.menu-disabled[_ngcontent-%COMP%]:hover   .tooltip-disabled[_ngcontent-%COMP%]{opacity:1;visibility:visible}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0;margin-right:.75rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .nav-item-disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{margin-left:0;margin-right:auto}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%], .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{left:auto;right:100%;margin-left:0;margin-right:.5rem}body.rtl[_ngcontent-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl[_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before, .rtl   [_nghost-%COMP%]   .menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{right:auto;left:100%;border-right-color:transparent;border-left-color:#1f2937}@media (max-width: 768px){.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]{position:fixed;inset:auto auto 20px 50%;transform:translate(-50%);margin-left:0}.menu-disabled[_ngcontent-%COMP%]   .tooltip-disabled[_ngcontent-%COMP%]:before{display:none}}.mock-data-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea99!important}.mock-data-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}']});var ie=V;function ct(r,n){if(r&1&&(e(0,"div",9)(1,"div",10)(2,"div",11),M(),e(3,"svg",12),g(4,"path",13),i()(),h(),e(5,"div",14)(6,"div",15),s(7),i(),e(8,"div",16),s(9),d(10,"translate"),i()()(),e(11,"div",17)(12,"div",11),M(),e(13,"svg",12),g(14,"path",18),i()(),h(),e(15,"div",14)(16,"div",15),s(17),i(),e(18,"div",16),s(19),d(20,"translate"),i()()(),e(21,"div",19)(22,"div",11),M(),e(23,"svg",12),g(24,"path",20),i()(),h(),e(25,"div",14)(26,"div",15),s(27),i(),e(28,"div",16),s(29),d(30,"translate"),i()()(),e(31,"div",21)(32,"div",11),M(),e(33,"svg",12),g(34,"path",22),i()(),h(),e(35,"div",14)(36,"div",15),s(37),i(),e(38,"div",16),s(39),d(40,"translate"),i()()()()),r&2){let t=n.ngIf;o(7),l(t.totalBoats),o(2),l(m(10,8,"DASHBOARD.TOTAL_BOATS")),o(8),l(t.activeBoats),o(2),l(m(20,10,"DASHBOARD.ACTIVE_BOATS")),o(8),l(t.maintenanceBoats),o(2),l(m(30,12,"DASHBOARD.MAINTENANCE")),o(8),l(t.totalSailors),o(2),l(m(40,14,"DASHBOARD.TOTAL_SAILORS"))}}function lt(r,n){if(r&1&&(e(0,"div",26)(1,"div",27),s(2),i(),e(3,"div",28)(4,"div",29)(5,"span",30),s(6),i()(),e(7,"div",31),s(8),d(9,"translate"),i()(),e(10,"div",32),s(11),i()()),r&2){let t=n.$implicit,a=O(2);o(),Ce("background-color",t.color+"20")("color",t.color),o(),b(" ",t.icon," "),o(4),l(t.name),o(2),b(" ",m(9,8,a.getActionText(t))," "),o(3),b(" ",a.getTimeAgo(t.date)," ")}}function dt(r,n){r&1&&(e(0,"div",33),M(),e(1,"svg",34),g(2,"path",35),i(),h(),e(3,"p"),s(4),d(5,"translate"),i()()),r&2&&(o(4),l(m(5,1,"DASHBOARD.NO_ACTIVITIES")))}function mt(r,n){if(r&1&&(e(0,"div",23),_(1,lt,12,10,"div",24)(2,dt,6,3,"div",25),i()),r&2){let t=O();o(),u("ngForOf",t.recentActivities),o(),u("ngIf",t.recentActivities.length===0)}}function pt(r,n){r&1&&(e(0,"div",36),g(1,"div",37),e(2,"p"),s(3),d(4,"translate"),i()()),r&2&&(o(3),l(m(4,1,"MESSAGES.LOADING")))}var z=class z{constructor(n,t){this.bateauService=n;this.marinService=t;this.recentActivities=[];this.loading=!0}ngOnInit(){this.loadStats(),this.loadRecentActivities()}loadStats(){this.stats$=le([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).pipe(ve(([n,t])=>({totalBoats:n.length,activeBoats:n.filter(a=>a.statut==="actif").length,maintenanceBoats:n.filter(a=>a.statut==="maintenance").length,totalSailors:t.length,activeSailors:t.filter(a=>a.statut==="actif").length})))}toDate(n){return n?n instanceof Date?n:n.toDate&&typeof n.toDate=="function"?n.toDate():n.seconds?new Date(n.seconds*1e3):new Date(n):new Date(0)}loadRecentActivities(){le([this.bateauService.getBateaux(),this.marinService.getAllMarins()]).subscribe(([n,t])=>{let a=[];n.sort((c,p)=>{let f=this.toDate(c.updatedAt||c.createdAt);return this.toDate(p.updatedAt||p.createdAt).getTime()-f.getTime()}).slice(0,5).forEach(c=>{let p=this.toDate(c.updatedAt||c.createdAt);a.push({type:"boat",action:c.updatedAt?"updated":"added",name:c.nom,date:p,icon:"\u{1F6A2}",color:"#3b82f6"})}),t.sort((c,p)=>{let f=this.toDate(c.updatedAt||c.createdAt);return this.toDate(p.updatedAt||p.createdAt).getTime()-f.getTime()}).slice(0,5).forEach(c=>{let p=this.toDate(c.updatedAt||c.createdAt);a.push({type:"sailor",action:c.updatedAt?"updated":"added",name:`${c.prenom} ${c.nom}`,date:p,icon:"\u{1F468}\u200D\u2708\uFE0F",color:"#059669"})}),this.recentActivities=a.sort((c,p)=>p.date.getTime()-c.date.getTime()).slice(0,10),this.loading=!1})}getActionText(n){return n.type==="boat"?n.action==="added"?"DASHBOARD.BOAT_ADDED":"DASHBOARD.BOAT_UPDATED":n.action==="added"?"DASHBOARD.SAILOR_ADDED":"DASHBOARD.SAILOR_UPDATED"}getTimeAgo(n){let a=new Date().getTime()-n.getTime(),c=Math.floor(a/6e4),p=Math.floor(a/36e5),f=Math.floor(a/864e5);return c<1?"\xC0 l'instant":c<60?`Il y a ${c} min`:p<24?`Il y a ${p}h`:`Il y a ${f}j`}};z.\u0275fac=function(t){return new(t||z)(C(ee),C(te))},z.\u0275cmp=w({type:z,selectors:[["app-dashboard-home"]],standalone:!1,decls:16,vars:15,consts:[[1,"dashboard-home"],[1,"welcome-title"],["class","stats-grid",4,"ngIf"],[1,"activities-section"],[1,"section-header"],[1,"section-title"],[1,"activity-count"],["class","activities-container",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","blue"],[1,"stat-icon"],["fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"stat-card","yellow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"stat-card","purple"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"activities-container"],["class","activity-item",4,"ngFor","ngForOf"],["class","no-activities",4,"ngIf"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-title"],[1,"activity-name"],[1,"activity-description"],[1,"activity-time"],[1,"no-activities"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"no-data-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"],[1,"loading-spinner"],[1,"spinner"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"h2",1),s(2),d(3,"translate"),i(),_(4,ct,41,16,"div",2),d(5,"async"),e(6,"div",3)(7,"div",4)(8,"h3",5),s(9),d(10,"translate"),i(),e(11,"span",6),s(12),d(13,"translate"),i()(),_(14,mt,3,2,"div",7)(15,pt,5,3,"div",8),i()()),t&2&&(o(2),l(m(3,7,"DASHBOARD.WELCOME")),o(2),u("ngIf",m(5,9,a.stats$)),o(5),l(m(10,11,"DASHBOARD.RECENT_ACTIVITIES")),o(3),_e("",a.recentActivities.length," ",m(13,13,"DASHBOARD.ACTIVITIES")),o(2),u("ngIf",!a.loading),o(),u("ngIf",a.loading))},dependencies:[Z,k,Oe,R],styles:['@charset "UTF-8";.dashboard-home[_ngcontent-%COMP%]{max-width:1400px;width:100%}.welcome-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:2rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;gap:1rem;transition:all .3s ease;border-left:4px solid}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #00000026;transform:translateY(-4px)}.stat-card.blue[_ngcontent-%COMP%]{border-color:#3b82f6}.stat-card.blue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#dbeafe;color:#3b82f6}.stat-card.green[_ngcontent-%COMP%]{border-color:#059669}.stat-card.green[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#d1fae5;color:#059669}.stat-card.yellow[_ngcontent-%COMP%]{border-color:#f59e0b}.stat-card.yellow[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#fef3c7;color:#f59e0b}.stat-card.purple[_ngcontent-%COMP%]{border-color:#9333ea}.stat-card.purple[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background-color:#e9d5ff;color:#9333ea}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;line-height:1;margin-bottom:.25rem}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.activities-section[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.section-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937;margin:0}.activity-count[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;background-color:#f3f4f6;padding:.25rem .75rem;border-radius:9999px;font-weight:500}.activities-container[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.activity-item[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f3f4f6;display:flex;align-items:center;gap:1rem;transition:background-color .2s}.activity-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.activity-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0}.activity-content[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.activity-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.9375rem}.activity-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;white-space:nowrap;flex-shrink:0}.no-activities[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:#9ca3af}.no-data-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin:0 auto 1rem;opacity:.5}.loading-spinner[_ngcontent-%COMP%]{padding:3rem;text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 auto 1rem;border:4px solid #f3f4f6;border-top-color:#3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.activity-item[_ngcontent-%COMP%]{padding:1rem}.activity-time[_ngcontent-%COMP%]{font-size:.6875rem}}@media (max-width: 480px){.welcome-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.stats-grid[_ngcontent-%COMP%]{margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8125rem}}']});var ae=z;var E=class E{constructor(n,t){this.selectedBoatService=n;this.router=t}canActivate(n,t){return this.selectedBoatService.hasSelectedBoat()?!0:(this.router.navigate(["/dashboard/bateaux"]),!1)}};E.\u0275fac=function(t){return new(t||E)(P(Q),P(J))},E.\u0275prov=K({token:E,factory:E.\u0275fac,providedIn:"root"});var T=E;var D=Ve(ze());var I=class I{constructor(n,t,a,c,p){this.firestore=n;this.bateauService=t;this.marinService=a;this.sortieService=c;this.depenseService=p;this.typesPoissons=[{nom:"Daurade royale",prixMin:28,prixMax:38},{nom:"Loup de mer",prixMin:32,prixMax:48},{nom:"Rouget barbet",prixMin:22,prixMax:32},{nom:"Sardine fra\xEEche",prixMin:6,prixMax:12},{nom:"Thon rouge",prixMin:55,prixMax:85},{nom:"M\xE9rou brun",prixMin:38,prixMax:55},{nom:"Saint-Pierre",prixMin:30,prixMax:45},{nom:"Sole commune",prixMin:35,prixMax:52},{nom:"Calamar",prixMin:20,prixMax:30},{nom:"Poulpe",prixMin:18,prixMax:28},{nom:"Crevettes roses",prixMin:45,prixMax:65},{nom:"Langoustines",prixMin:60,prixMax:80},{nom:"Pageot",prixMin:25,prixMax:35},{nom:"Sar commun",prixMin:20,prixMax:30},{nom:"Rascasse",prixMin:28,prixMax:40},{nom:"Mulet",prixMin:15,prixMax:25}];this.nomsClients=["Restaurant La Goulette - Tunis","Poissonnerie Ben Ahmed - Sfax","Restaurant Le Pirate - La Marsa","March\xE9 Central - Sfax","Restaurant Dar El Jeld - M\xE9dina","Grossiste Fruits de Mer - Monastir","Poissonnerie du Port - Sousse","Restaurant La M\xE9dina - Hammamet","Hotel Hasdrubal Thalassa & Spa","Carrefour Lac 2 - Tunis","Restaurant Le Corail - Mahdia","Poissonnerie Zitouna - Sfax","H\xF4tel Concorde Les Berges du Lac","Restaurant Chez Slah - Kerkennah","March\xE9 de Poissons - Mahdia","Monoprix Sousse Centre","Restaurant Fish Market - Gammarth","H\xF4tel M\xF6venpick Sousse","Grossiste Al Baraka - Gab\xE8s","Poissonnerie El Amel - Sfax"]}generateAllMockData(){return v(this,null,function*(){try{console.log("\u{1F9F9} Suppression des anciennes donn\xE9es..."),yield this.clearAllData(),console.log("\u{1F6A2} G\xE9n\xE9ration des bateaux...");let n=yield this.generateBateaux();console.log(`\u2705 ${n.length} bateaux cr\xE9\xE9s`);for(let t of n){console.log(`
\u{1F465} G\xE9n\xE9ration des marins pour le bateau ${t}...`),yield this.generateMarins(t),console.log(`\u26F5 G\xE9n\xE9ration des sorties pour le bateau ${t}...`);let a=yield this.generateSorties(t);console.log(`\u2705 ${a.length} sorties cr\xE9\xE9es`);for(let c=0;c<a.length;c++){let p=a[c];console.log(`
\u{1F4C4} Sortie ${c+1}/${a.length} (ID: ${p})`);let f=yield this.generateFacturesDetaillees(p);console.log(`  \u2705 ${f} factures cr\xE9\xE9es`),yield this.generateDepenses(p),console.log("  \u2705 6 d\xE9penses cr\xE9\xE9es")}}console.log(`
\u{1F389} \u2705 G\xE9n\xE9ration termin\xE9e!`)}catch(n){throw console.error("\u274C Erreur:",n),n}})}clearAllData(){return v(this,null,function*(){let n=["bateaux","marins","sorties","factures-vente","depenses","calculs-salaire"];for(let t of n){let a=yield Be(pe(this.firestore,t)),c=a.docs.map(p=>Ie(De(this.firestore,t,p.id)));yield Promise.all(c),console.log(`  \u2713 ${t}: ${a.size} supprim\xE9s`)}})}generateBateaux(){return v(this,null,function*(){let n=[{nom:"El Amel",immatriculation:"SF-2024-001",typeMoteur:"Diesel Volvo Penta",puissance:350,longueur:18,capaciteEquipage:6,dateConstruction:new Date("2018-03-15"),portAttache:"Port de Sfax",statut:"actif",createdAt:new Date},{nom:"La Perle Bleue",immatriculation:"SF-2023-045",typeMoteur:"Diesel Caterpillar",puissance:420,longueur:22,capaciteEquipage:8,dateConstruction:new Date("2020-06-20"),portAttache:"Port de Sfax",statut:"actif",createdAt:new Date}],t=[];for(let a of n){let c=yield this.bateauService.addBateau(a);t.push(c)}return t})}generateMarins(n){return v(this,null,function*(){let t=["Ahmed","Mohamed","Ali","Karim","Mehdi","Youssef"],a=["Ben Salem","Trabelsi","Gharbi","Hammami","Jomaa","Ksouri"],c=["capitaine","second","mecanicien","matelot","matelot","matelot"],p=[];for(let f=0;f<6;f++){let x={coefficientSalaire:1,bateauId:n,nom:a[f],prenom:t[f],dateNaissance:new Date(1985+Math.floor(Math.random()*15),Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1),fonction:c[f],part:c[f]==="capitaine"?2:c[f]==="second"?1.5:c[f]==="mecanicien"?1.3:1,numeroPermis:`PM-${1e4+f}`,telephone:`+216 ${20+f} ${Math.floor(Math.random()*9e5+1e5)}`,email:`${t[f].toLowerCase()}.${a[f].toLowerCase().replace(" ","")}@email.com`,adresse:`${Math.floor(Math.random()*100)+1} Avenue Habib Bourguiba, Sfax`,dateEmbauche:new Date(2020+Math.floor(Math.random()*4),Math.floor(Math.random()*12),Math.floor(Math.random()*28)+1),statut:"actif",createdAt:new Date},S=yield this.marinService.addMarin(x);p.push(S)}return p})}generateSorties(n){return v(this,null,function*(){let t=["Banc de Kerkennah (Zone Nord-Est)","Golfe de Gab\xE8s (Zone Sud)","\xCEles Kerkennah (Zone c\xF4ti\xE8re)"],a=[],c=new Date;for(let p=0;p<3;p++){let f=15+p*15,x=new Date(c);x.setDate(x.getDate()-f-3);let S=new Date(x);S.setDate(S.getDate()+(2+p));let U={bateauId:n,dateDepart:x,dateRetour:S,destination:t[p],statut:"terminee",salaireCalcule:!1,observations:`Sortie ${p+1} - Excellentes conditions m\xE9t\xE9o`,createdAt:new Date},ce=yield this.sortieService.addSortie(U);a.push(ce)}return a})}generateFacturesDetaillees(n){return v(this,null,function*(){let t=Math.floor(Math.random()*4)+5;console.log(`  \u{1F4DD} G\xE9n\xE9ration de ${t} factures...`);for(let a=0;a<t;a++){let c=Math.floor(Math.random()*4)+3,p=this.shuffleArray([...this.typesPoissons]).slice(0,c),f=0,x="";for(let N of p){let ue=Math.floor(Math.random()*120)+30,Me=Math.floor((Math.random()*(N.prixMax-N.prixMin)+N.prixMin)*100)/100,he=Math.round(ue*Me*100)/100;x+=`${N.nom}: ${ue} kg \xD7 ${Me} DT = ${he} DT
`,f+=he}f=Math.round(f*100)/100;let S=`FA-${new Date().getFullYear()}-${String(Math.floor(Math.random()*9e3)+1e3).padStart(4,"0")}`,U=this.nomsClients[Math.floor(Math.random()*this.nomsClients.length)],ce={montant:f,sortieId:n,numeroFacture:S,client:U,dateVente:new Date,details:x.trim(),createdAt:new Date};try{yield Te(pe(this.firestore,"factures-vente"),ce),console.log(`    \u2713 ${S} - ${U} - ${f} DT`)}catch(N){console.error(`    \u2717 Erreur facture ${a+1}:`,N)}}return t})}generateDepenses(n){return v(this,null,function*(){let t=[{type:"fuel",montantMin:1200,montantMax:2500,description:"Carburant diesel"},{type:"ice",montantMin:200,montantMax:450,description:"Glace"},{type:"food",montantMin:350,montantMax:600,description:"Provisions"},{type:"crew_cnss",montantMin:500,montantMax:800,description:"CNSS \xE9quipage"},{type:"vms",montantMin:50,montantMax:100,description:"VMS"},{type:"oil_change",montantMin:300,montantMax:500,description:"Entretien moteur"}];for(let a of t){let c=Math.floor(Math.random()*(a.montantMax-a.montantMin)+a.montantMin),p={sortieId:n,type:a.type,montant:c,date:new Date,description:a.description,createdAt:new Date};yield this.depenseService.addDepense(p)}})}shuffleArray(n){let t=[...n];for(let a=t.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[t[a],t[c]]=[t[c],t[a]]}return t}};I.\u0275fac=function(t){return new(t||I)(P(Ee),P(ee),P(te),P(Ne),P(Le))},I.\u0275prov=K({token:I,factory:I.\u0275fac,providedIn:"root"});var oe=I;function ft(r,n){r&1&&(e(0,"span"),s(1),d(2,"translate"),i()),r&2&&(o(),l(m(2,1,"MOCK_DATA.GENERATE_BUTTON")))}function ut(r,n){r&1&&(e(0,"span"),s(1),d(2,"translate"),i()),r&2&&(o(),l(m(2,1,"MOCK_DATA.GENERATING_BUTTON")))}var j=class j{constructor(n,t){this.mockService=n;this.translate=t;this.generating=!1}generate(){return v(this,null,function*(){if((yield D.default.fire({title:this.translate.instant("MOCK_DATA.CONFIRM_TITLE"),text:this.translate.instant("MOCK_DATA.CONFIRM_TEXT"),icon:"question",showCancelButton:!0,confirmButtonText:this.translate.instant("MOCK_DATA.CONFIRM_BUTTON"),cancelButtonText:this.translate.instant("FORM.CANCEL"),confirmButtonColor:"#3b82f6"})).isConfirmed)try{this.generating=!0,D.default.fire({title:this.translate.instant("MOCK_DATA.LOADING_TITLE"),text:this.translate.instant("MOCK_DATA.LOADING_TEXT"),allowOutsideClick:!1,didOpen:()=>D.default.showLoading()}),yield this.mockService.generateAllMockData(),D.default.close(),yield D.default.fire({title:this.translate.instant("MOCK_DATA.SUCCESS_TITLE"),text:this.translate.instant("MOCK_DATA.SUCCESS_TEXT"),icon:"success",confirmButtonColor:"#10b981"})}catch(t){console.error(t),D.default.fire({title:this.translate.instant("MOCK_DATA.ERROR_TITLE"),text:t.message,icon:"error"})}finally{this.generating=!1}})}};j.\u0275fac=function(t){return new(t||j)(C(oe),C(Ae))},j.\u0275cmp=w({type:j,selectors:[["app-mock-data"]],standalone:!1,decls:24,vars:21,consts:[[1,"mock-container"],[1,"mock-card"],[1,"data-list"],[1,"data-item"],[1,"btn-generate",3,"click","disabled"],[4,"ngIf"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),s(3),d(4,"translate"),i(),e(5,"p"),s(6),d(7,"translate"),i(),e(8,"div",2)(9,"div",3),s(10),d(11,"translate"),i(),e(12,"div",3),s(13),d(14,"translate"),i(),e(15,"div",3),s(16),d(17,"translate"),i(),e(18,"div",3),s(19),d(20,"translate"),i()(),e(21,"button",4),A("click",function(){return a.generate()}),_(22,ft,3,3,"span",5)(23,ut,3,3,"span",5),i()()()),t&2&&(o(3),l(m(4,9,"MOCK_DATA.TITLE")),o(3),l(m(7,11,"MOCK_DATA.SUBTITLE")),o(4),l(m(11,13,"MOCK_DATA.ITEM_1")),o(3),l(m(14,15,"MOCK_DATA.ITEM_2")),o(3),l(m(17,17,"MOCK_DATA.ITEM_3")),o(3),l(m(20,19,"MOCK_DATA.ITEM_4")),o(2),u("disabled",a.generating),o(),u("ngIf",!a.generating),o(),u("ngIf",a.generating))},dependencies:[k,R],styles:[".mock-container[_ngcontent-%COMP%]{min-height:80vh;display:flex;align-items:center;justify-content:center;padding:2rem}.mock-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:3rem;max-width:500px;box-shadow:0 10px 30px #0000001a;text-align:center}h2[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1f2937;font-size:2rem}p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 2rem}.data-list[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:.5rem;margin-bottom:2rem;text-align:left}.data-item[_ngcontent-%COMP%]{padding:.5rem 0;color:#374151;font-weight:500}.btn-generate[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#3b82f6;color:#fff;border:none;border-radius:.5rem;font-size:1.125rem;font-weight:600;cursor:pointer;transition:all .3s}.btn-generate[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-2px);box-shadow:0 10px 20px #3b82f64d}.btn-generate[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]});var re=j;var Mt=[{path:"",component:ie,children:[{path:"",component:ae},{path:"bateaux",loadChildren:()=>import("./chunk-PRDUHWEA.js").then(r=>r.BateauxModule)},{path:"sorties",loadChildren:()=>import("./chunk-PAMNLVQ4.js").then(r=>r.SortiesModule),canActivate:[T]},{path:"ventes",loadComponent:()=>import("./chunk-MJUSVBT5.js").then(r=>r.VentesListComponent),canActivate:[T]},{path:"avances",loadComponent:()=>import("./chunk-2CBRI4J4.js").then(r=>r.AvancesComponent),canActivate:[T]},{path:"salaires",loadComponent:()=>import("./chunk-2MVJYSF4.js").then(r=>r.SalairesListComponent),canActivate:[T]},{path:"mock-data",component:re},{path:"",redirectTo:"",pathMatch:"full"}]}],B=class B{};B.\u0275fac=function(t){return new(t||B)},B.\u0275mod=q({type:B}),B.\u0275inj=Y({imports:[X,me.forChild(Mt),W,me]});var se=B;var L=class L{};L.\u0275fac=function(t){return new(t||L)},L.\u0275mod=q({type:L}),L.\u0275inj=Y({imports:[X,se,W]});var He=L;export{He as DashboardModule};
